import{j as e,$ as t,G as n,_ as i,d as a,e as o,a7 as s,f as r,r as p,g as l,t as u,o as c,b as d,l as m,a8 as f,c as h,p as g,a9 as v,m as b,aa as C,O as S}from"./index.db891132.js";var T,y,P,V=t.Popup,k=n.noop,N=S.TimePicker,O=(y=T=function(e){function t(n,i){a(this,t);var r=o(this,e.call(this,n,i));P.call(r);var p=s(n.value||n.defaultValue,n.format);return r.inputAsString="string"==typeof(n.value||n.defaultValue),r.state={value:p,inputStr:"",inputing:!1,visible:n.visible||n.defaultVisible},r}return i(t,e),t.getDerivedStateFromProps=function(e){var t={};return"value"in e&&(t.value=s(e.value,e.format)),"visible"in e&&(t.visible=e.visible),t},t.prototype.onValueChange=function(e){var t=this.inputAsString&&e?e.format(this.props.format):e;this.props.onChange(t)},t.prototype.renderPreview=function(e){var t=this.props,n=t.prefix,i=t.format,a=t.className,o=t.renderPreview,s=this.state.value,u=r(a,n+"form-preview"),c=s?s.format(i):"";return"function"==typeof o?p.createElement("div",l({},e,{className:u}),o(s,this.props)):p.createElement("p",l({},e,{className:u}),c)},t.prototype.render=function(){var e,n,i=this.props,a=i.prefix,o=i.label,s=i.state,h=i.placeholder,g=i.size,v=i.format,b=i.hasClear,C=i.hourStep,S=i.minuteStep,T=i.secondStep,y=i.disabledHours,P=i.disabledMinutes,k=i.disabledSeconds,N=i.renderTimeMenuItems,O=i.inputProps,w=i.popupAlign,x=i.popupTriggerType,E=i.popupContainer,I=i.popupStyle,M=i.popupClassName,H=i.popupProps,A=i.popupComponent,j=i.popupContent,z=i.followTrigger,B=i.disabled,K=i.className,D=i.locale,F=i.rtl,G=i.isPreview,$=u(i,["prefix","label","state","placeholder","size","format","hasClear","hourStep","minuteStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","renderTimeMenuItems","inputProps","popupAlign","popupTriggerType","popupContainer","popupStyle","popupClassName","popupProps","popupComponent","popupContent","followTrigger","disabled","className","locale","rtl","isPreview"]),_=this.state,q=_.value,J=_.inputStr,L=_.inputing,Q=_.visible,R=r(((e={})[a+"time-picker-trigger"]=!0,e));if(F&&($.dir="rtl"),G)return this.renderPreview(c.pickOthers($,t.PropTypes));var U=L?J:q&&q.format(v)||"",W=l({},O,{size:g,disabled:B,value:U,hasClear:q&&b,onChange:this.onInputChange,onBlur:this.onInputBlur,onPressEnter:this.onInputBlur,onKeyDown:this.onKeyown,hint:p.createElement(d,{type:"clock",className:a+"time-picker-symbol-clock-icon"})}),X=p.createElement("div",{className:R},p.createElement(m,l({},W,{label:o,state:s,placeholder:h||D.placeholder,className:a+"time-picker-input"}))),Y={prefix:a,locale:D,value:q,disabled:B,showHour:v.indexOf("H")>-1,showSecond:v.indexOf("s")>-1,showMinute:v.indexOf("m")>-1,hourStep:C,minuteStep:S,secondStep:T,disabledHours:y,disabledMinutes:P,disabledSeconds:k,renderTimeMenuItems:N,onSelect:this.onTimePanelSelect},Z=r(((n={})[a+"time-picker"]=!0,n[a+"time-picker-"+g]=g,n[a+"disabled"]=B,n),K),ee=A||V;return p.createElement("div",l({},c.pickOthers(t.propTypes,$),{className:Z}),p.createElement(ee,l({autoFocus:!0,align:w},H,{followTrigger:z,visible:Q,onVisibleChange:this.onVisibleChange,trigger:X,container:E,disabled:B,triggerType:x,style:I,className:M}),j||p.createElement("div",{dir:$.dir,className:a+"time-picker-body"},p.createElement("div",{className:a+"time-picker-panel-header"},p.createElement(m,l({},W,{placeholder:v,className:a+"time-picker-panel-input"}))),p.createElement(f,Y))))},t}(p.Component),T.propTypes=l({},h.propTypes,{prefix:g.string,rtl:g.bool,label:g.node,state:g.oneOf(["error","success"]),placeholder:g.string,value:v,defaultValue:v,size:g.oneOf(["small","medium","large"]),hasClear:g.bool,format:g.string,hourStep:g.number,minuteStep:g.number,secondStep:g.number,disabledHours:g.func,disabledMinutes:g.func,disabledSeconds:g.func,renderTimeMenuItems:g.func,visible:g.bool,defaultVisible:g.bool,popupContainer:g.any,popupAlign:g.string,popupTriggerType:g.oneOf(["click","hover"]),onVisibleChange:g.func,popupStyle:g.object,popupClassName:g.string,popupProps:g.object,followTrigger:g.bool,disabled:g.bool,isPreview:g.bool,renderPreview:g.func,onChange:g.func,className:g.string,name:g.string,inputProps:g.object,popupComponent:g.elementType,popupContent:g.node}),T.defaultProps={prefix:"next-",rtl:!1,locale:N,size:"medium",format:"HH:mm:ss",hasClear:!0,disabled:!1,popupAlign:"tl tl",popupTriggerType:"click",onChange:k,onVisibleChange:k},P=function(){var e=this;this.onClearValue=function(){e.setState({value:null}),e.state.value&&e.onValueChange(null)},this.onInputChange=function(t,n,i){"value"in e.props?"clear"===i&&(n.stopPropagation(),e.onValueChange(null)):("clear"!==i&&t||(n.stopPropagation(),e.onClearValue()),e.setState({inputStr:t,inputing:!0}))},this.onInputBlur=function(){var t=e.state.inputStr;if(t){var n=e.props.format,i=b(t,n,!0);i.isValid()&&(e.setState({value:i,inputStr:""}),e.onValueChange(i)),e.setState({inputing:!1})}},this.onKeyown=function(t){var n=e.state,i=n.value,a=n.inputStr,o=e.props,s=o.format,r=o.hourStep,p=void 0===r?1:r,l=o.minuteStep,u=void 0===l?1:l,c=o.secondStep,d=void 0===c?1:c,m=o.disabledMinutes,f="second";o.disabledSeconds&&(f=m?"hour":"minute");var h=C(t,{format:s,timeInputStr:a,steps:{hour:p,minute:u,second:d},value:i},f);h&&e.onInputChange(h)},this.onTimePanelSelect=function(t){"value"in e.props||e.setState({value:t,inputing:!1}),e.state.value&&t.valueOf()===e.state.value.valueOf()||e.onValueChange(t)},this.onVisibleChange=function(t,n){"visible"in e.props||e.setState({visible:t}),e.props.onVisibleChange(t,n)}},y);O.displayName="TimePicker";var w=e(O),x=h.config(w,{transform:function(e,t){if("defaultOpen"in e){t("defaultOpen","defaultVisible","TimePicker");var n=e,i=n.defaultOpen,a=u(n,["defaultOpen"]);e=l({defaultVisible:i},a)}if("open"in e){t("open","visible","TimePicker");var o=e,s=o.open,r=u(o,["open"]);e=l({visible:s},r)}if("onOpenChange"in e){t("onOpenChange","onVisibleChange","TimePicker");var p=e,c=p.onOpenChange,d=u(p,["onOpenChange"]);e=l({onVisibleChange:c},d)}return e}});export{x as N};
