import{O as e,k as r,l as t,m as n,v as o,R as s,P as i,n as a,_ as l,o as u,r as p,y as c,V as d,p as f,z as m,q as h,x as v}from"./index.d204dc79.js";function b(r,t,n){if(r[t]&&!e.isSelf(r[t]))return new Error("Invalid prop "+t+" supplied to "+n+". Required a dayjs object.")}function x(r,t,n){if(r[t]&&!e.isSelf(r[t])&&"string"!=typeof r[t])return new Error("Invalid prop "+t+" supplied to "+n+". Required a dayjs object or format date string.")}function y(r,t){var n="string"==typeof r?e(r,t,!0):r;return n&&e.isSelf(n)&&n.isValid()?n:null}var S,T;function I(e,r,t){var n=window.requestAnimationFrame||function(){return setTimeout(arguments.length<=0?void 0:arguments[0],10)};if(t<=0)e.scrollTop=r;else{var o=(r-e.scrollTop)/t*10;n((function(){e.scrollTop=e.scrollTop+o,e.scrollTop!==r&&I(e,r,t-10)}))}}var E,w,g=function(){},k=(T=S=function(e){function i(){var r,a;t(this,i);for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];return r=a=n(this,e.call.apply(e,[this].concat(u))),a.prefixCls=a.props.prefix+"time-picker2",a._menuRefHandler=function(e){a.menu=e},a._menuWrapperRefHandler=function(e){a.menuWrapper=e},a.createMenuItems=function(e){var r=a.props,t=r.prefix,n=r.mode,i=r.disabled,l=r.disabledItems,u=r.activeIndex,p=r.onSelect,c=r.renderTimeMenuItems,d=r.value;return(e=c(e,n,d)||e).map((function(e){var r,c=e.label,d=e.value,f=i||l(d),m=o(((r={})[a.prefixCls+"-menu-item"]=!0,r[t+"disabled"]=f,r[t+"selected"]=d===u,r)),h=f?g:function(){return p(d,n)};return s.createElement("li",{role:"option","aria-selected":String(d===u),key:d,title:d,className:m,onClick:h},c)}))},n(a,r)}return r(i,e),i.prototype.componentDidMount=function(){this.scrollToSelected(0)},i.prototype.componentDidUpdate=function(e){e.activeIndex!==this.props.activeIndex&&this.scrollToSelected(120)},i.prototype.scrollToSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=this.props,t=r.activeIndex,n=r.step,o=Math.floor((t||0)/n),s=this.menu.children[o],i=s.offsetTop;I(this.menu,i,e)},i.prototype.render=function(){for(var e=this.props,r=e.mode,t=e.step,n="hour"===r?24:60,o=[],i=0;i<n;i++)i%t==0&&o.push({label:i,value:i});return s.createElement("div",{className:this.prefixCls+"-menu",ref:this._menuWrapperRefHandler},s.createElement("ul",{role:"listbox",className:this.prefixCls+"-menu-"+r,ref:this._menuRefHandler},this.createMenuItems(o)))},i}(s.Component),S.propTypes={prefix:i.string,title:i.node,mode:i.oneOf(["hour","minute","second"]),step:i.number,activeIndex:i.number,value:b,disabledItems:i.func,renderTimeMenuItems:i.func,onSelect:i.func,disabled:i.bool},S.defaultProps={step:1,disabledItems:function(){return!1},renderTimeMenuItems:function(e){return e},onSelect:function(){},disabled:!1},T);k.displayName="TimeMenu";var M=a.noop,N=(w=E=function(i){function a(){var r,o;t(this,a);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return r=o=n(this,i.call.apply(i,[this].concat(l))),o.prefixCls=o.props.prefix+"time-picker2",o.onSelectMenuItem=function(r,t){var n=o.props.value,s=n?n.clone():e("00:00:00","HH:mm:ss",!0),i=void 0;switch(t){case"hour":i=s.hour(r);break;case"minute":i=s.minute(r);break;case"second":i=s.second(r)}o.props.onSelect(i)},n(o,r)}return r(a,i),a.prototype.render=function(){var r=this.props,t=r.prefix,n=r.value,i=r.locale,a=r.className,p=r.disabled,c=r.showHour,d=r.showMinute,f=r.showSecond,m=r.hourStep,h=r.minuteStep,v=r.secondStep,b=r.disabledHours,x=r.disabledMinutes,y=r.disabledSeconds,S=r.renderTimeMenuItems,T=l(r,["prefix","value","locale","className","disabled","showHour","showMinute","showSecond","hourStep","minuteStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","renderTimeMenuItems"]),I=[c,d,f].filter((function(e){return e})).length,E=o(this.prefixCls+"-panel",this.prefixCls+"-panel-col-"+I,a),w={prefix:t,disabled:p,onSelect:this.onSelectMenuItem,renderTimeMenuItems:S,value:n},g=void 0,M=void 0,N=void 0;return n&&e.isSelf(n)&&(g=n.hour(),M=n.minute(),N=n.second()),s.createElement("div",u({},T,{className:E}),c?s.createElement(k,u({},w,{activeIndex:g,title:i.hour,mode:"hour",step:m,disabledItems:b})):null,d?s.createElement(k,u({},w,{activeIndex:M,title:i.minute,mode:"minute",step:h,disabledItems:x})):null,f?s.createElement(k,u({},w,{activeIndex:N,title:i.second,step:v,mode:"second",disabledItems:y})):null)},a}(p.exports.Component),E.propTypes={prefix:i.string,value:b,showHour:i.bool,showMinute:i.bool,showSecond:i.bool,hourStep:i.number,minuteStep:i.number,secondStep:i.number,disabledHours:i.func,disabledMinutes:i.func,disabledSeconds:i.func,renderTimeMenuItems:i.func,onSelect:i.func,locale:i.object,disabled:i.bool,className:i.string},E.defaultProps={prefix:"next-",showHour:!0,showSecond:!0,showMinute:!0,disabledHours:M,disabledMinutes:M,disabledSeconds:M,onSelect:M,disabled:!1,locale:c.TimePicker},w);N.displayName="TimePickerPanel";var A={DATE:"date",RANGE:"range"},C={BEGIN:0,END:1},O={DATE:"date",MONTH:"month",WEEK:"week",QUARTER:"quarter",YEAR:"year"},R=function(e,r){return new Error("Invalid prop "+e+" supplied to "+r+". Validation failed.")};function H(e){return function(r,t,n){var o=r[t];if(o&&(Array.isArray(o)||(o=[o]),Array.isArray(e)||(e=[e]),!o.every((function(r){return e.includes(void 0===r?"undefined":d(r))}))))throw R(t,n)}}var j,P,D={date:function(r,t,n){if(t in r&&!e(r.propName).isValid())throw R(t,n)},value:function(r,t,n){if(r[t]){var o=r[t];if(r.type===A.RANGE&&!Array.isArray(o))throw R(t,n);if(Array.isArray(o)||(o=[o]),!o.every((function(r){return!r||e(r).isValid()})))throw R(t,n)}},format:H(["string","function"]),inputValue:H("string"),placeholder:H("string"),readOnly:H("boolean"),disabled:H("boolean"),disabledTime:H(["object","function"]),ariaLabel:H("string"),render:f.exports.oneOfType([f.exports.node,f.exports.func]),mode:f.exports.oneOf(Object.values(O)),type:f.exports.oneOf(Object.values(A)),inputType:f.exports.oneOf(Object.values(C)),size:f.exports.oneOf(["small","medium","large"])},V=a.renderNode;var _=m((P=j=function(e){function i(r){t(this,i);var o=n(this,e.call(this,r));return o.renderRanges=function(){if(!o.props.preset)return null;var e=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(r){return{label:r,value:e[r]}}))}(o.props.preset);return e.map((function(r,t){var n=r.label,i=r.value,p=l(r,["label","value"]),c=h.pickProps(v.propTypes,p);return s.createElement(v,u({text:1===e.length,size:"small",type:1===e.length?"primary":"secondary",key:n+"-"+t,onClick:function(){return a.invoke(o.props,"onChange",["function"==typeof i?i():i,"CLICK_PRESET"])}},c),n)}))},o.prefixCls=r.prefix+"date-picker2-footer",o}return r(i,e),i.prototype.render=function(){var e,r,t=this.prefixCls,n=this.props,i=n.showOk,a=n.locale,l=n.onOk,u=n.oKable,p=n.extraRender,c=n.className,d=o(t,c,((e={})[t+"-with-actions"]=i,e)),f=V(p),m=this.renderRanges(),h=s.createElement(v,{size:"small",disabled:!u,onClick:l,className:t+"-ok",type:"primary"},a.ok),b=i||f||m,x=o(t+"-preset",((r={})[t+"-preset-only"]=!i&&!f,r));return b?s.createElement("div",{className:d},f?s.createElement("div",{className:t+"-extra"},f):null,m?s.createElement("div",{className:x},m):null,i?s.createElement("div",{className:t+"-actions"},h):null):null},i}(s.PureComponent),j.propTypes={rtl:f.exports.bool,className:f.exports.string,prefix:f.exports.string,locale:f.exports.object,showOk:f.exports.bool,preset:f.exports.oneOfType([f.exports.array,f.exports.object]),onOk:f.exports.func,oKable:f.exports.bool,extraRender:D.render},j.defaultProps={locale:c.DatePicker},P));export{C as D,_ as F,D as S,N as T,O as a,A as b,x as c,y as f};
