import{u as e,k as t,l as r,m as s,q as i,v as a,R as n,d as o,o as p,r as c,P as l}from"./index.16a07d60.js";var m,f,h=(f=m=function(e){function c(){var t,i;r(this,c);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=i=s(this,e.call.apply(e,[this].concat(n))),i.state={isImgExist:!0},i.handleImgLoadError=function(){var e=i.props.onError;!1!==(e?e():void 0)&&i.setState({isImgExist:!1})},i.getIconSize=function(e){return"number"==typeof e?e/2:e},s(i,t)}return t(c,e),c.prototype.componentDidUpdate=function(e){e.src!==this.props.src&&this.setState({isImgExist:!0})},c.prototype.render=function(){var e,t=this.props,r=t.prefix,s=t.className,l=t.style,m=t.size,f=t.icon,h=t.alt,g=t.srcSet,u=t.shape,d=t.src,y=this.state.isImgExist,v=this.props.children,E=i.pickOthers(c.propTypes,this.props),x=a(((e={})[r+"avatar"]=!0,e[r+"avatar-"+u]=!!u,e[r+"avatar-image"]=d&&y,e[r+"avatar-"+m]="string"==typeof m,e),s),z="number"==typeof m?{width:m,height:m,lineHeight:m+"px",fontSize:f?m/2:18}:{},I=this.getIconSize(m);if(d)v=y?n.createElement("img",{src:d,srcSet:g,onError:this.handleImgLoadError,alt:h}):n.createElement(o,{type:"picture",size:I});else if("string"==typeof f)v=n.createElement(o,{type:f,size:I});else if(f){var S="size"in f.props?f.props.size:I;v=n.cloneElement(f,{size:S})}return n.createElement("span",p({className:x,style:p({},z,l)},E),v)},c}(c.exports.Component),m.propTypes={prefix:l.string,children:l.any,className:l.string,size:l.oneOfType([l.oneOf(["small","medium","large"]),l.number]),shape:l.oneOf(["circle","square"]),icon:l.oneOfType([l.node,l.string]),src:l.string,onError:l.func,alt:l.string,srcSet:l.string},m.defaultProps={prefix:"next-",size:"medium",shape:"circle"},f);h.displayName="Avatar";var g=e.config(h);export{g as N};
