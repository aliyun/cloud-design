var e=Object.assign;import{r as t,$ as n,q as r,B as l,Z as a,V as o,E as i,t as s,a3 as u,M as c,a4 as m,h as d,a5 as p,a as h,F as f}from"./index.4543a34a.js";import{q as E}from"./styled-components.browser.esm.09d3b94c.js";import{N as g}from"./index.62bb6328.js";import{N as b}from"./index.32ca2a44.js";import{m as v}from"./moment.32698ee1.js";import{b as y,c as C,a as k}from"./redux.7df07dca.js";import"./index.41812848.js";import"./panel.cf8bc50d.js";import"./index.16c8a90c.js";class x extends t.Component{constructor(){super(...arguments),this.state={show:!0,show2:!0},this.field=new n(this),this.field2=new n(this,{autoUnmount:!1})}render(){return t.createElement("div",null,this.state.show?t.createElement(r,e({},this.field.init("name",{initValue:"autoUnmount = true"}))):null,t.createElement(l,{onClick:()=>{console.log("value auto delete",this.field.getValues())},style:{marginLeft:4}},"print"),t.createElement(l,{onClick:()=>this.setState({show:!1}),warning:!0,style:{marginLeft:4}},"delete"),t.createElement("br",null),t.createElement("br",null),this.state.show2?t.createElement(r,e({},this.field2.init("name2",{initValue:"autoUnmount = false"}))):null,t.createElement(l,{onClick:()=>{console.log("value always exist",this.field2.getValues())},style:{marginLeft:4}},"print"),t.createElement(l,{onClick:()=>this.setState({show2:!1}),warning:!0,style:{marginLeft:4}},"delete"))}}const S=E.div``;var w=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(x,null);return t.createElement(S,null,e)}});class V extends t.Component{constructor(a){super(a),this.getValues=()=>{const e=this.field.getValues();console.log(e)},this.input=(n,l)=>t.createElement(r,e({},this.field.init(`name.${l}.input`))),this.op=(e,n)=>t.createElement("span",null,t.createElement(l,{type:"primary",onClick:this.addItem.bind(this,n+1)},"add"),t.createElement(l,{warning:!0,onClick:this.removeItem.bind(this,n),style:{marginLeft:4}},"delete")),this.idx=3,this.field=new n(this,{parseName:!0,values:{name:[0,1,2,3].map((e=>({id:e,input:e})))}})}addItem(e){++this.idx,this.field.addArrayValue("name",e,{id:this.idx,input:this.idx})}removeItem(e){this.field.deleteArrayValue("name",e)}render(){const e=this.field.getValue("name");return t.createElement("div",null,t.createElement(a,{dataSource:e},t.createElement(a.Column,{title:"id",dataIndex:"id"}),t.createElement(a.Column,{title:"input",dataIndex:"id",cell:this.input}),t.createElement(a.Column,{title:"operation",cell:this.op,width:150})),t.createElement("pre",{style:{marginTop:8}},JSON.stringify(e,null,2)))}}const _=E.div``;var O=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(V,null);return t.createElement(_,null,e)}});class P extends t.Component{constructor(){super(...arguments),this.field=new n(this)}onGetValue(){console.log(this.field.getValue("input"))}render(){const{init:n,setValue:a,reset:o}=this.field;return t.createElement("div",{className:"demo"},t.createElement(r,e({},n("input",{initValue:"test"}))),t.createElement("br",null),t.createElement("br",null),t.createElement(l,{type:"primary",onClick:this.onGetValue.bind(this)},"getValue"),t.createElement(l,{type:"primary",onClick:()=>a("input","set me by click")},"setValue"),t.createElement(l,{onClick:()=>o()},"reset"))}}const j=E.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var N=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(P,null);return t.createElement(j,null,e)}});class T extends t.Component{constructor(e){super(e),this.onAdd=()=>{const e=this.state.value.concat([]);e.push("new"),this.setState({value:e}),this.props.onChange(e)},this.state={value:void 0===e.value?[]:e.value}}componentWillReceiveProps(e){"value"in e&&this.setState({value:void 0===e.value?[]:e.value})}render(){return t.createElement("div",{className:"custom"},this.state.value.map(((e,n)=>t.createElement(l,{key:n},e))),t.createElement(l,{type:"primary",onClick:this.onAdd.bind(this)},"Add ＋"," "))}}class M extends t.Component{constructor(){super(...arguments),this.field=new n(this,{deepReset:!0})}onGetValue(){console.log(this.field.getValue("custom"))}render(){const{init:n,setValue:r,reset:a}=this.field;return t.createElement("div",{className:"demo"},t.createElement(T,e({},n("custom",{initValue:["test"]}))),t.createElement("br",null),t.createElement("br",null),t.createElement(l,{type:"primary",onClick:this.onGetValue.bind(this)},"getValue"),t.createElement(l,{type:"primary",onClick:()=>r("custom",["test","setValue"])},"setValue"),t.createElement(l,{onClick:()=>a()},"reset"))}}const q=E.div`
  .demo .next-btn {
    margin-right: 5px;
  }
  .custom {
    border: 1px dashed;
    padding: 4px;
    display: inline-block;
  }
`;var R=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(M,null);return t.createElement(q,null,e)}});const D=o.Group,B=i.Group,z=[{value:"apple",label:"apple"},{value:"pear",label:"pear"},{value:"orange",label:"orange"}],W={marginBottom:10,width:400};class F extends t.Component{constructor(){super(...arguments),this.field=new n(this)}render(){const{init:n,getValue:a}=this.field;return t.createElement("div",{className:"demo"},t.createElement("div",{style:{marginBottom:10}},t.createElement(B,e({},n("radiogroup",{initValue:"a"})),t.createElement(i,{value:"a"},"A"),t.createElement(i,{value:"b"},"B"),t.createElement(i,{value:"c"},"C"),t.createElement(i,{value:"d"},"D"))),"d"!==a("radiogroup")?t.createElement(s,e(e({},n("name",{initValue:"lucy"})),{style:W}),t.createElement(s.Option,{value:"jack"},"jack"),t.createElement(s.Option,{value:"lucy"},"lucy"),t.createElement(s.Option,{value:"disabled",disabled:!0},"disabled"),t.createElement(s.Option,{value:"hugohua"},"hugohua")):t.createElement(r,e({},n("name",{initValue:"frankqian"}))),t.createElement("br",null),t.createElement(u,e({style:e(e({},W),{marginTop:30}),slider:"double",scales:10,marks:10},n("range",{initValue:[20,40]}))),t.createElement("div",{style:{marginBottom:10}},t.createElement(D,e({dataSource:z},n("checkboxgroup",{initValue:["apple"]})))),t.createElement("div",{style:{marginBottom:10}},t.createElement(g,e({},n("datepicker")))),t.createElement("div",{style:{marginBottom:10}},t.createElement(g.RangePicker,e({},n("rangepicker")))),t.createElement("div",{style:{marginBottom:10}},t.createElement(b,e({},n("timepicker")))),t.createElement(l,{type:"primary",onClick:()=>{console.log(this.field.getValues())}},"getValues"),t.createElement(l,{onClick:()=>{this.field.setValues({name:"hugohua",range:[30,50],checkboxgroup:["orange"],radiogroup:"d"})}},"setValues"),t.createElement(l,{onClick:()=>{this.field.reset()}},"reset"))}}const A=E.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var G=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(F,null);return t.createElement(A,null,e)}});class L extends t.Component{constructor(){super(...arguments),this.field=new n(this,{onChange:(e,t)=>{switch(console.log(this.field.getValues()),e){case"input":this.field.setValue("sync",`change to: ${t}`);break;case"select":this.field.setValue("sync",`${t} is coming`);break;case"range":this.field.setValue("sync",` (${t.join(",")}) ready`)}}})}render(){const{init:n,getValue:l}=this.field,a={marginBottom:10,width:400};return t.createElement("div",null,t.createElement(r,e(e({placeholder:"controlled by onChange"},n("input")),{style:a})),t.createElement("br",null),t.createElement(r,e(e({placeholder:"under control"},n("input")),{style:a})),t.createElement("br",null),t.createElement(s,e({style:a},n("select",{initValue:"lucy"})),t.createElement(s.Option,{value:"jack"},"jack"),t.createElement(s.Option,{value:"lucy"},"lucy"),t.createElement(s.Option,{value:"disabled",disabled:!0},"disabled"),t.createElement(s.Option,{value:"hugo"},"hugo")),t.createElement("br",null),"hugo"!==l("select")?t.createElement(u,e({style:e(e({},a),{marginTop:30}),slider:"double",scales:10,marks:10},n("range",{initValue:[20,40],trigger:"onProcess"}))):null,t.createElement("br",null),t.createElement("hr",{style:{marginBottom:10}}),t.createElement(r,e(e({placeholder:"everyone can control me"},n("sync")),{style:a})),t.createElement("br",null))}}const U=E.div``;var Y=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(L,null);return t.createElement(U,null,e)}});function I(){const a=n.useField(),{init:o,setValue:i,reset:s,getError:u}=a;return t.createElement("div",{className:"demo"},t.createElement(r,e({},o("input",{initValue:"test",rules:[{required:!0,pattern:/hello/,message:"must be hello"}]}))),t.createElement("span",{style:{color:"red"}},u("input")),t.createElement("br",null),t.createElement("br",null),t.createElement(l,{onClick:function(){a.setValue("input","xyz")}}," setValue "),t.createElement(l,{onClick:function(){console.log(a.getValue("input"))}}," getValue "),t.createElement("br",null),t.createElement("br",null))}const H=E.div``;var $=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(I,null);return t.createElement(H,null,e)}});class J extends t.Component{constructor(){super(...arguments),this.field=new n(this)}render(){const n=this.field.init;return t.createElement("div",null,t.createElement(c,e({},n("switch",{getValueFormatter:e=>e?1:0,setValueFormatter:e=>1===e}))),t.createElement("br",null),t.createElement(g,e({},n("time",{getValueFormatter:e=>e.format("YYYY-MM-DD"),setValueFormatter:e=>v(e,"YYYY-MM-DD")}))),t.createElement("br",null),t.createElement("pre",{style:{marginTop:8}},JSON.stringify(this.field.getValues(),null,2)))}}const K=E.div``;var Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(J,null);return t.createElement(K,null,e)}});class Q extends t.Component{constructor(){super(...arguments),this.field=new n(this),this.validate=()=>{console.log(this.field.getErrors()),this.field.validate(((e,t)=>{alert(JSON.stringify(e))}))}}render(){const{init:n,getError:a,setError:o,setErrors:i}=this.field;return t.createElement("div",{className:"demo"},t.createElement(r,e({},n("input",{rules:[{required:!0,pattern:/hello/,message:"must be hello"}]}))),t.createElement("br",null),t.createElement("span",{style:{color:"red"}},a("input")),t.createElement("br",null),t.createElement(l,{onClick:()=>{o("input","set error 1")}},"setError"),t.createElement(l,{onClick:()=>{i({input:"set error 2"})}},"setErrors"),t.createElement(l,{onClick:()=>{i({input:""})}},"clear"),t.createElement("br",null),t.createElement("br",null),t.createElement(r,e({},n("input2"))),t.createElement("br",null),t.createElement("span",{style:{color:"red"}},a("input2")),t.createElement("br",null),t.createElement(l,{onClick:()=>{o("input2","errors will be removed by onChange and shown on validate")}},"setError"),t.createElement(l,{onClick:this.validate},"validate"))}}const X=E.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(Q,null);return t.createElement(X,null,e)}});class te extends t.Component{constructor(){super(...arguments),this.field=new n(this,{parseName:!0,values:{objWithDefaults:{a:1,b:2}}})}onGetValue(){console.log(this.field.getValues())}onSetValue(){this.field.setValues({obj:{b:"b",c:"c"},arr:["first","second"],objWithDefaults:{a:100,b:200}})}render(){const{init:n,reset:a,resetToDefault:o}=this.field;return t.createElement("div",{className:"demo"},t.createElement("h3",null,"Object transfer"),"obj.b: ",t.createElement(r,e({},n("obj.b",{initValue:"test1"})))," ",t.createElement("span",{style:{marginRight:20}}),"obj.c: ",t.createElement(r,e({},n("obj.c",{initValue:"test2"}))),t.createElement("br",null),t.createElement("h3",null,"Array transfer"),"arr.0: ",t.createElement(r,e({},n("arr.0",{initValue:"0"})))," ",t.createElement("span",{style:{marginRight:20}}),"arr.1: ",t.createElement(r,e({},n("arr.1",{initValue:"1"}))),t.createElement("br",null),t.createElement("br",null),t.createElement("h3",null,"Object with Defaults"),"objWithDefaults.a: ",t.createElement(r,e({},n("objWithDefaults.a")))," ",t.createElement("span",{style:{marginRight:20}}),"objWithDefaults.b: ",t.createElement(r,e({},n("objWithDefaults.b"))),t.createElement("br",null),t.createElement("br",null),"result:",t.createElement("pre",null,JSON.stringify(this.field.getValues(),null,2)),t.createElement("br",null),t.createElement("br",null),t.createElement(l,{type:"primary",onClick:this.onGetValue.bind(this)},"getValues"),t.createElement(l,{onClick:this.onSetValue.bind(this)},"setValues"),t.createElement(l,{onClick:()=>a()},"reset"),t.createElement(l,{onClick:()=>o()},"resetToDefault"))}}const ne=E.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(te,null);return t.createElement(ne,null,e)}}),le=t.createContext(null);var ae=function(e){e()},oe={notify:function(){}};function ie(){var e=ae,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,l=n={callback:e,next:null,prev:n};return l.prev?l.prev.next=l:t=l,function(){r&&null!==t&&(r=!1,l.next?l.next.prev=l.prev:n=l.prev,l.prev?l.prev.next=l.next:t=l.next)}}}}var se=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=oe,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=ie())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=oe)},e}();function ue(e){var n=e.store,r=e.context,l=e.children,a=t.useMemo((function(){var e=new se(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=t.useMemo((function(){return n.getState()}),[n]);t.useEffect((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var i=r||le;return t.createElement(i.Provider,{value:a},l)}var ce="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect,me=[],de=[null,null];function pe(e,t){var n=e[1];return[t.payload,n+1]}function he(e,t,n){ce((function(){return e.apply(void 0,t)}),n)}function fe(e,t,n,r,l,a,o){e.current=r,t.current=l,n.current=!1,a.current&&(a.current=null,o())}function Ee(e,t,n,r,l,a,o,i,s,u){if(e){var c=!1,m=null,d=function(){if(!c){var e,n,d=t.getState();try{e=r(d,l.current)}catch(p){n=p,m=p}n||(m=null),e===a.current?o.current||s():(a.current=e,i.current=e,o.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,m)throw m}}}var ge=function(){return[null,0]};function be(e,n){void 0===n&&(n={});var r=n,l=r.getDisplayName,a=void 0===l?function(e){return"ConnectAdvanced("+e+")"}:l,o=r.methodName,i=void 0===o?"connectAdvanced":o,s=r.renderCountProp,u=void 0===s?void 0:s,c=r.shouldHandleStateChanges,f=void 0===c||c,E=r.storeKey,g=void 0===E?"store":E,b=(r.withRef,r.forwardRef),v=void 0!==b&&b,y=r.context,C=void 0===y?le:y,k=p(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),x=C;return function(n){var r=n.displayName||n.name||"Component",l=a(r),o=m({},k,{getDisplayName:a,methodName:i,renderCountProp:u,shouldHandleStateChanges:f,storeKey:g,displayName:l,wrappedComponentName:r,WrappedComponent:n}),s=k.pure;var c=s?t.useMemo:function(e){return e()};function E(r){var l=t.useMemo((function(){var e=r.reactReduxForwardedRef,t=p(r,["reactReduxForwardedRef"]);return[r.context,e,t]}),[r]),a=l[0],i=l[1],s=l[2],u=t.useMemo((function(){return a&&a.Consumer&&h.isContextConsumer(t.createElement(a.Consumer,null))?a:x}),[a,x]),d=t.useContext(u),E=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch),g=(Boolean(d)&&Boolean(d.store),E?r.store:d.store),b=t.useMemo((function(){return function(t){return e(t.dispatch,o)}(g)}),[g]),v=t.useMemo((function(){if(!f)return de;var e=new se(g,E?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[g,E,d]),y=v[0],C=v[1],k=t.useMemo((function(){return E?d:m({},d,{subscription:y})}),[E,d,y]),S=t.useReducer(pe,me,ge),w=S[0][0],V=S[1];if(w&&w.error)throw w.error;var _=t.useRef(),O=t.useRef(s),P=t.useRef(),j=t.useRef(!1),N=c((function(){return P.current&&s===O.current?P.current:b(g.getState(),s)}),[g,w,s]);he(fe,[O,_,j,s,N,P,C]),he(Ee,[f,g,y,b,O,_,j,P,C,V],[g,y,b]);var T=t.useMemo((function(){return t.createElement(n,m({},N,{ref:i}))}),[i,n,N]);return t.useMemo((function(){return f?t.createElement(u.Provider,{value:k},T):T}),[u,T,k])}var b=s?t.memo(E):E;if(b.WrappedComponent=n,b.displayName=l,v){var y=t.forwardRef((function(e,n){return t.createElement(b,m({},e,{reactReduxForwardedRef:n}))}));return y.displayName=l,y.WrappedComponent=n,d(y,n)}return d(b,n)}}function ve(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function ye(e,t){if(ve(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var l=0;l<n.length;l++)if(!Object.prototype.hasOwnProperty.call(t,n[l])||!ve(e[n[l]],t[n[l]]))return!1;return!0}function Ce(e){return function(t,n){var r=e(t,n);function l(){return r}return l.dependsOnOwnProps=!1,l}}function ke(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function xe(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=ke(e);var l=r(t,n);return"function"==typeof l&&(r.mapToProps=l,r.dependsOnOwnProps=ke(l),l=r(t,n)),l},r}}var Se=[function(e){return"function"==typeof e?xe(e):void 0},function(e){return e?void 0:Ce((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Ce((function(t){return y(e,t)})):void 0}];var we=[function(e){return"function"==typeof e?xe(e):void 0},function(e){return e?void 0:Ce((function(){return{}}))}];function Ve(e,t,n){return m({},n,e,t)}var _e=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,l=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,i){var s=e(t,n,i);return o?l&&a(s,r)||(r=s):(o=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return Ve}}];function Oe(e,t,n,r){return function(l,a){return n(e(l,a),t(r,a),a)}}function Pe(e,t,n,r,l){var a,o,i,s,u,c=l.areStatesEqual,m=l.areOwnPropsEqual,d=l.areStatePropsEqual,p=!1;function h(l,p){var h,f,E=!m(p,o),g=!c(l,a);return a=l,o=p,E&&g?(i=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),u=n(i,s,o)):E?(e.dependsOnOwnProps&&(i=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),u=n(i,s,o)):g?(h=e(a,o),f=!d(h,i),i=h,f&&(u=n(i,s,o)),u):u}return function(l,c){return p?h(l,c):(i=e(a=l,o=c),s=t(r,o),u=n(i,s,o),p=!0,u)}}function je(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,l=t.initMergeProps,a=p(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),i=r(e,a),s=l(e,a);return(a.pure?Pe:Oe)(o,i,s,e,a)}function Ne(e,t,n){for(var r=t.length-1;r>=0;r--){var l=t[r](e);if(l)return l}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Te(e,t){return e===t}function Me(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?be:n,l=t.mapStateToPropsFactories,a=void 0===l?we:l,o=t.mapDispatchToPropsFactories,i=void 0===o?Se:o,s=t.mergePropsFactories,u=void 0===s?_e:s,c=t.selectorFactory,d=void 0===c?je:c;return function(e,t,n,l){void 0===l&&(l={});var o=l,s=o.pure,c=void 0===s||s,h=o.areStatesEqual,f=void 0===h?Te:h,E=o.areOwnPropsEqual,g=void 0===E?ye:E,b=o.areStatePropsEqual,v=void 0===b?ye:b,y=o.areMergedPropsEqual,C=void 0===y?ye:y,k=p(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=Ne(e,a,"mapStateToProps"),S=Ne(t,i,"mapDispatchToProps"),w=Ne(n,u,"mergeProps");return r(d,m({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:S,initMergeProps:w,pure:c,areStatesEqual:f,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:C},k))}}var qe,Re=Me();qe=f.unstable_batchedUpdates,ae=qe;class De extends t.Component{constructor(){super(...arguments),this.field=new n(this,{onChange:(e,t)=>{console.log("onChange",e,t),this.field.setValue("newlen",t.length),this.props.dispatch({type:"save_fields",payload:{[e]:t}})}})}componentWillReceiveProps(e){this.field.setValues({email:e.email,newlen:e.email.length})}setEmail(){this.props.dispatch({type:"save_fields",payload:{email:"qq@gmail.com"}})}render(){const n=this.field.init,a=n("newlen",{initValue:this.props.email.length});return t.createElement("div",null,t.createElement(r,e({},n("email",{initValue:this.props.email},{rules:[{required:!0,type:"email",message:"at least 5 chars"}]}))),"now length is:",a.value,t.createElement("p",null,"email: ",this.props.email),t.createElement(l,{onClick:this.setEmail.bind(this)},"set"))}}const Be=Re((e=>({email:e.formReducer.email})))(De),ze=C(k({formReducer:function(t={email:"frankqian@qq.com"},n){switch(n.type){case"save_fields":return e(e({},t),n.payload);default:return t}}}));const We=E.div``;var Fe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(ue,{store:ze},t.createElement("div",null,t.createElement(Be,null)));return t.createElement(We,null,e)}});const Ae=o.Group,Ge=[{value:"apple",label:"apple"},{value:"pear",label:"pear"},{value:"orange",label:"orange"}];class Le extends t.Component{constructor(){super(...arguments),this.state={checkboxStatus:!0},this.field=new n(this,{scrollToFirstError:-10})}isChecked(e,t,n){return t?n():n("consent agreement not checked ")}userName(e,t,n){"frank"===t?setTimeout((()=>n("name existed")),200):setTimeout((()=>n()),200)}render(){const{init:n,validate:a,reset:i}=this.field;return t.createElement("div",{className:"demo"},t.createElement(r,e({},n("input",{initValue:"delete all",rules:{required:!0}}))),this.field.getError("input")?t.createElement("span",{style:{color:"red"}},this.field.getError("input").join(",")):"",t.createElement("br",null),t.createElement("br",null),t.createElement(r,e({placeholder:"try onBlur"},n("input1",{rules:[{required:!0,message:"can not be empty",trigger:["onBlur","onChange"]}]}))),this.field.getError("input1")?t.createElement("span",{style:{color:"red"}},this.field.getError("input1").join(",")):"",t.createElement("br",null),t.createElement("br",null),t.createElement(r,e({defaultValue:"",placeholder:"try frank"},n("username",{rules:[{validator:this.userName,trigger:["onBlur","onChange"]}]}))),"loading"===this.field.getState("username")?"validating...":"",this.field.getError("username")?t.createElement("span",{style:{color:"red"}},this.field.getError("username").join(",")):"",t.createElement("br",null),t.createElement("br",null),"agreement:",t.createElement(o,e({},n("checkbox",{valueName:"checked",rules:[{validator:this.isChecked}]}))),this.field.getError("checkbox")?t.createElement("span",{style:{color:"red"}},this.field.getError("checkbox").join(",")):"",t.createElement("br",null),t.createElement("br",null),t.createElement(r.TextArea,e({placeholder:">3 and <10"},n("textarea",{rules:[{required:!0,minLength:3,maxLength:10}]}))),this.field.getError("textarea")?t.createElement("span",{style:{color:"red"}},this.field.getError("textarea").join(",")):"",t.createElement("br",null),t.createElement("br",null),this.state.checkboxStatus?t.createElement("div",null,"Array validate：",t.createElement(Ae,e(e({dataSource:Ge},n("checkboxgroup",{rules:[{required:!0,type:"array",message:"choose one please"}]})),{style:{marginBottom:10}})),this.field.getError("checkboxgroup")?t.createElement("span",{style:{color:"red"}},this.field.getError("checkboxgroup").join(",")):""):null,t.createElement("br",null),t.createElement("br",null),t.createElement(l,{type:"primary",onClick:()=>{a(((e,t)=>{console.log(e,t)}))}},"validate"),t.createElement(l,{onClick:()=>{i()}},"reset"),t.createElement(l,{onClick:()=>{this.state.checkboxStatus?(this.setState({checkboxStatus:!1}),this.field.remove("checkboxgroup")):this.setState({checkboxStatus:!0})}},this.state.checkboxStatus?"delete":"restore"))}}const Ue=E.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var Ye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(Le,null);return t.createElement(Ue,null,e)}});o.Group;class Ie extends t.Component{constructor(){super(...arguments),this.state={checkboxStatus:!0},this.field=new n(this,{scrollToFirstError:-10})}isChecked(e,t){return t?Promise.resolve(null):Promise.reject("consent agreement not checked ")}userName(e,t){return new Promise("frank"===t?(e,t)=>{setTimeout((()=>t("name existed")),200)}:e=>{setTimeout((()=>e(null)),200)})}render(){const n=this.field.init;return t.createElement("div",{className:"demo"},t.createElement(r,e({defaultValue:"",placeholder:"try frank"},n("username",{rules:[{validator:this.userName,trigger:["onBlur","onChange"]}]}))),"loading"===this.field.getState("username")?"validating...":"",this.field.getError("username")?t.createElement("span",{style:{color:"red"}},this.field.getError("username").join(",")):"",t.createElement("br",null),t.createElement("br",null),"agreement:",t.createElement(o,e({},n("checkbox",{valueName:"checked",rules:[{validator:this.isChecked}]}))),this.field.getError("checkbox")?t.createElement("span",{style:{color:"red"}},this.field.getError("checkbox").join(",")):"",t.createElement("br",null),t.createElement("br",null),t.createElement(l,{type:"primary",onClick:()=>{this.field.validatePromise().then((({errors:e,values:t})=>{console.log(e,t)}))}},"validate"),t.createElement(l,{onClick:()=>{this.field.reset()}},"reset"))}}const He=E.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var $e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(Ie,null);return t.createElement(He,null,e)}});class Je extends t.Component{constructor(){super(...arguments),this.field=new n(this)}render(){const n=this.field.init;return t.createElement("div",{className:"demo"},t.createElement(i,e({},n("radio",{initValue:!1,valueName:"checked"}))," ","checked"),t.createElement("br",null),t.createElement(o,e({},n("checkbox",{valueName:"checked",initValue:!0})),"defaultChecked"),t.createElement("br",null),t.createElement(c,e(e({},n("switch",{valueName:"checked",initValue:!1})),{style:{marginTop:10,marginBottom:10}})),t.createElement("br",null),t.createElement(l,{type:"primary",onClick:()=>{console.log(this.field.getValues())}},"getValues"),t.createElement(l,{onClick:()=>{this.field.setValues({radio:!0,switch:!0,checkbox:!1})}}," ","setValues"," "),t.createElement(l,{onClick:()=>{this.field.reset()}},"reset"))}}const Ke=E.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var Ze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=t.createElement(Je,null);return t.createElement(Ke,null,e)}});const Qe={};Qe._autounmout=w,Qe._dynamic=O,Qe._basic=N,Qe._custom=R,Qe._mix=G,Qe._onchange=Y,Qe._hooks=$,Qe._normalize=Z,Qe._seterror=ee,Qe._topath=re,Qe._redux=Fe,Qe._validator=Ye,Qe._validatorPromise=$e,Qe._valuename=Ze;export default Qe;
