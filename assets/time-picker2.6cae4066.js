var e,t,n,l=Object.assign;import{j as r,D as o,C as a,p as s,g as i,z as u,_ as p,d as c,e as m,f as d,r as f,m as g,o as h,b,u as v,c as S,T as C,E,Q as _,$ as T,B as y}from"./index.26e635a6.js";import{q as H}from"./styled-components.browser.esm.08d92d51.js";import{c as x,f as O,T as P,F as w}from"./footer-panel.8b55b337.js";import{a as M}from"./index.51c74dcc.js";import"./moment.ebc1a0ce.js";var V=o.Popup,j=a.noop,z=E.TimePicker,N=s.shape(i({label:s.string,value:s.oneOfType([s.func,x])},u.propTypes)),k=(t=e=function(e){function t(l,r){c(this,t);var o=m(this,e.call(this,l,r));n.call(o);var a=O(l.value||l.defaultValue,l.format);return o.state={value:a,inputStr:"",inputing:!1,visible:l.visible||l.defaultVisible},o.prefixCls=o.props.prefix+"time-picker2",o}return p(t,e),t.getDerivedStateFromProps=function(e){var t={};return"value"in e&&(t.value=O(e.value,e.format)),"visible"in e&&(t.visible=e.visible),t},t.prototype.renderPreview=function(e){var t=this.props,n=t.prefix,l=t.format,r=t.className,o=t.renderPreview,a=this.state.value,s=d(r,n+"form-preview"),u=a?a.format(l):"";return"function"==typeof o?f.createElement("div",i({},e,{className:s}),o(a,this.props)):f.createElement("p",i({},e,{className:s}),u)},t.prototype.render=function(){var e,n,l=this.props,r=l.prefix,o=l.label,a=l.state,s=l.placeholder,u=l.size,p=l.format,c=l.hasClear,m=l.hourStep,S=l.minuteStep,C=l.secondStep,E=l.disabledHours,_=l.disabledMinutes,T=l.disabledSeconds,y=l.renderTimeMenuItems,H=l.inputProps,x=l.popupAlign,O=l.popupTriggerType,M=l.popupContainer,j=l.popupStyle,z=l.popupClassName,N=l.popupProps,k=l.popupComponent,I=l.followTrigger,B=l.disabled,D=l.hasBorder,A=l.className,q=l.locale,F=l.rtl,K=l.isPreview,$=l.preset,Q=g(l,["prefix","label","state","placeholder","size","format","hasClear","hourStep","minuteStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","renderTimeMenuItems","inputProps","popupAlign","popupTriggerType","popupContainer","popupStyle","popupClassName","popupProps","popupComponent","followTrigger","disabled","hasBorder","className","locale","rtl","isPreview","preset"]),R=this.state,G=R.value,J=R.inputStr,L=R.inputing,U=R.visible,W=d(((e={})[this.prefixCls+"-trigger"]=!0,e));if(F&&(Q.dir="rtl"),K)return this.renderPreview(h.pickOthers(Q,t.PropTypes));var X=L?J:G&&G.format(p)||"",Y=i({},H,{size:u,disabled:B,value:X,hasClear:G&&c,onChange:this.onInputChange,onBlur:this.onInputBlur,onPressEnter:this.onInputBlur,onKeyDown:this.onKeyown,hint:f.createElement(b,{type:"clock",className:this.prefixCls+"-symbol-clock-icon"})}),Z=f.createElement("div",{className:W},f.createElement(v,i({},Y,{label:o,state:a,hasBorder:D,placeholder:s||q.placeholder,className:d(this.prefixCls+"-input")}))),ee={prefix:r,locale:q,value:G,disabled:B,showHour:p.indexOf("H")>-1,showSecond:p.indexOf("s")>-1,showMinute:p.indexOf("m")>-1,hourStep:m,minuteStep:S,secondStep:C,disabledHours:E,disabledMinutes:_,disabledSeconds:T,renderTimeMenuItems:y,onSelect:this.onTimePanelSelect},te=d(((n={})[""+this.prefixCls]=!0,n[this.prefixCls+"-"+u]=u,n[r+"disabled"]=B,n),A),ne=k||V;return f.createElement("div",i({},h.pickOthers(t.propTypes,Q),{className:te}),f.createElement(ne,i({autoFocus:!0,align:x},N,{followTrigger:I,visible:U,onVisibleChange:this.onVisibleChange,trigger:Z,container:M,disabled:B,triggerType:O,style:j,className:z}),f.createElement("div",{dir:Q.dir,className:this.prefixCls+"-wrapper"},f.createElement("div",{className:this.prefixCls+"-body"},f.createElement(P,ee),$?f.createElement(w,{prefix:r,className:this.prefixCls+"-footer",showTime:!0,showOk:!1,onChange:this.onValueChange,preset:$}):null))))},t}(f.Component),e.propTypes=i({},S.propTypes,{prefix:s.string,rtl:s.bool,label:s.node,state:s.oneOf(["error","success"]),placeholder:s.string,value:x,defaultValue:x,size:s.oneOf(["small","medium","large"]),hasClear:s.bool,format:s.string,hourStep:s.number,minuteStep:s.number,secondStep:s.number,disabledHours:s.func,disabledMinutes:s.func,disabledSeconds:s.func,renderTimeMenuItems:s.func,visible:s.bool,defaultVisible:s.bool,popupContainer:s.any,popupAlign:s.string,popupTriggerType:s.oneOf(["click","hover"]),onVisibleChange:s.func,popupStyle:s.object,popupClassName:s.string,popupProps:s.object,followTrigger:s.bool,disabled:s.bool,hasBorder:s.bool,isPreview:s.bool,renderPreview:s.func,onChange:s.func,className:s.string,name:s.string,preset:s.oneOfType([s.arrayOf(N),N]),inputProps:s.shape(v.propTypes),popupComponent:s.elementType}),e.defaultProps={prefix:"next-",rtl:!1,locale:z,size:"medium",format:"HH:mm:ss",hasClear:!0,disabled:!1,hasBorder:!0,popupAlign:"tl bl",popupTriggerType:"click",onChange:j,onVisibleChange:j},n=function(){var e=this;this.onValueChange=function(t){var n=t;null===n||C.isSelf(n)||(n=C(n));var l=n?n.format(e.props.format):"";e.props.onChange(n,l)},this.onClearValue=function(){e.setState({value:null}),e.state.value&&e.onValueChange(null)},this.onInputChange=function(t,n,l){"value"in e.props?"clear"===l&&(n.stopPropagation(),e.onValueChange(null)):("clear"!==l&&t||(n.stopPropagation(),e.onClearValue()),e.setState({inputStr:t,inputing:!0}))},this.onInputBlur=function(){var t=e.state.inputStr;if(t){var n=e.props.format,l=C(t,n,!0);l.isValid()&&(e.setState({value:l,inputStr:""}),e.onValueChange(l)),e.setState({inputing:!1})}},this.onKeyown=function(t){var n=e.state,l=n.value,r=n.inputStr,o=e.props,a=o.format,s=o.hourStep,i=void 0===s?1:s,u=o.minuteStep,p=void 0===u?1:u,c=o.secondStep,m=void 0===c?1:c,d=o.disabledMinutes,f="second";o.disabledSeconds&&(f=d?"hour":"minute");var g=M(t,{format:a,timeInputStr:r,steps:{hour:i,minute:p,second:m},value:l},f);g&&e.onInputChange(g)},this.onTimePanelSelect=function(t){"value"in e.props||e.setState({value:t,inputing:!1}),e.state.value&&t.valueOf()===e.state.value.valueOf()||e.onValueChange(t)},this.onVisibleChange=function(t,n){"visible"in e.props||e.setState({visible:t}),e.props.onVisibleChange(t,n)}},t);k.displayName="TimePicker2";var I=r(k),B=S.config(I);const D=_("12:00:00","HH:mm:ss",!0);const A=H.div``;var q=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement("div",null,f.createElement(B,{defaultValue:D,onChange:console.log}),f.createElement("br",null),f.createElement("br",null),f.createElement(B,{defaultValue:"12:00:00",onChange:console.log}));return f.createElement(A,null,e)}});const F=[1,2,3,4,5],K=[10,20,30,40,50],$=[10,20,30,40,50],Q=e=>t=>e.indexOf(t)>=0;const R=H.div``;var G=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement("div",null,f.createElement("p",null,"Disable TimePicker2"),f.createElement(B,{disabled:!0}),f.createElement("p",null,"Disable Hours/Minutes/Seconds"),f.createElement(B,{disabledHours:Q(F),disabledMinutes:Q(K),disabledSeconds:Q($)}));return f.createElement(R,null,e)}});class J extends f.Component{constructor(){super(...arguments),this.field=new T(this),this.onClick=()=>{const e=this.field.getValue("time-picker");console.log(e.format("HH:mm:ss"))}}render(){const{init:e}=this.field,t=e("time-picker",{rules:[{required:!0,message:"Time Required"}],initValue:_("00:00:00","HH:mm:ss",!0)});return f.createElement("div",null,f.createElement(B,l({},t))," ",f.createElement("br",null),f.createElement("br",null),f.createElement(y,{onClick:this.onClick},"Print Value in Console"))}}const L=H.div``;var U=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement(J,null);return f.createElement(L,null,e)}});const W=H.div``;var X=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement(B,{onChange:console.log});return f.createElement(W,null,e)}});const Y=[{label:"此刻",value:()=>new Date}];function Z(){const[e,t]=f.useState(_("12:00:00","HH:mm:ss",!0));return f.createElement(B,{value:e,onChange:t,preset:Y})}const ee=H.div``;var te=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement(Z,null);return f.createElement(ee,null,e)}});const ne=H.div``;var le=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement(B,{hasBorder:!1,onChange:console.log});return f.createElement(ne,null,e)}});const re=H.div``;var oe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement(B,{onChange:e=>console.log(e.format("HH:mm:ss")),hourStep:2,minuteStep:5,secondStep:5});return f.createElement(re,null,e)}});const ae=H.div``;var se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement("div",null,f.createElement(B,{format:"HH"}),f.createElement("p",null,"Hide seconds"),f.createElement(B,{format:"HH:mm"}),f.createElement("p",null,"Hide hours"),f.createElement(B,{format:"mm:ss"}));return f.createElement(ae,null,e)}});const ie=e=>e.map((({label:e,value:t})=>({value:t,label:t>9?String(t):`0${t}`})));const ue=H.div``;var pe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement(B,{renderTimeMenuItems:ie});return f.createElement(ue,null,e)}});const ce=H.div``;var me=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement("div",null,f.createElement(B,{size:"large"}),"  ",f.createElement(B,null),"  ",f.createElement(B,{size:"small"}));return f.createElement(ce,null,e)}});class de extends f.Component{constructor(e,t){super(e,t),this.onSelect=e=>{this.setState({value:e}),this.props.onChange(e)},this.state={value:_("12:00:00","HH:mm:ss",!0)}}render(){return f.createElement(B,{value:this.state.value,onChange:this.onSelect})}}const fe=H.div``;var ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=f.createElement(de,{onChange:e=>console.log(e.format("HH:mm:ss"))});return f.createElement(fe,null,e)}});const he={};he["_default-value"]=q,he._disabled=G,he._field=U,he._basic=X,he._preset=te,he["_no-border"]=le,he._step=oe,he._format=se,he["_render-menu"]=pe,he._size=me,he._value=ge;export default he;
