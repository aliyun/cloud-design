import{F as e,_ as n,d as r,e as t,f as o,r as s,p as i,G as a,t as l,g as u,O as c,v as d,o as p,I as f,j as m}from"./index.db891132.js";function h(n,r,t){if(n[r]&&!e.isSelf(n[r]))return new Error("Invalid prop "+r+" supplied to "+t+". Required a dayjs object.")}function v(n,r,t){if(n[r]&&!e.isSelf(n[r])&&"string"!=typeof n[r])return new Error("Invalid prop "+r+" supplied to "+t+". Required a dayjs object or format date string.")}function b(n,r){var t="string"==typeof n?e(n,r,!0):n;return t&&e.isSelf(t)&&t.isValid()?t:null}var y,x;function S(e,n,r){var t=window.requestAnimationFrame||function(){return setTimeout(arguments.length<=0?void 0:arguments[0],10)};if(r<=0)e.scrollTop=n;else{var o=(n-e.scrollTop)/r*10;t((function(){e.scrollTop=e.scrollTop+o,e.scrollTop!==n&&S(e,n,r-10)}))}}var T,I,E=function(){},g=(x=y=function(e){function i(){var n,a;r(this,i);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=a=t(this,e.call.apply(e,[this].concat(u))),a.prefixCls=a.props.prefix+"time-picker2",a._menuRefHandler=function(e){a.menu=e},a._menuWrapperRefHandler=function(e){a.menuWrapper=e},a.createMenuItems=function(e){var n=a.props,r=n.prefix,t=n.mode,i=n.disabled,l=n.disabledItems,u=n.activeIndex,c=n.onSelect,d=n.renderTimeMenuItems,p=n.value;return(e=d(e,t,p)||e).map((function(e){var n,d=e.label,p=e.value,f=i||l(p),m=o(((n={})[a.prefixCls+"-menu-item"]=!0,n[r+"disabled"]=f,n[r+"selected"]=p===u,n)),h=f?E:function(){return c(p,t)};return s.createElement("li",{role:"option","aria-selected":String(p===u),key:p,title:p,className:m,onClick:h},d)}))},t(a,n)}return n(i,e),i.prototype.componentDidMount=function(){this.scrollToSelected(0)},i.prototype.componentDidUpdate=function(e){e.activeIndex!==this.props.activeIndex&&this.scrollToSelected(120)},i.prototype.scrollToSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.props,r=n.activeIndex,t=n.step,o=Math.floor((r||0)/t),s=this.menu.children[o],i=s.offsetTop;S(this.menu,i,e)},i.prototype.render=function(){for(var e=this.props,n=e.mode,r=e.step,t="hour"===n?24:60,o=[],i=0;i<t;i++)i%r==0&&o.push({label:i,value:i});return s.createElement("div",{className:this.prefixCls+"-menu",ref:this._menuWrapperRefHandler},s.createElement("ul",{role:"listbox",className:this.prefixCls+"-menu-"+n,ref:this._menuRefHandler},this.createMenuItems(o)))},i}(s.Component),y.propTypes={prefix:i.string,title:i.node,mode:i.oneOf(["hour","minute","second"]),step:i.number,activeIndex:i.number,value:h,disabledItems:i.func,renderTimeMenuItems:i.func,onSelect:i.func,disabled:i.bool},y.defaultProps={step:1,disabledItems:function(){return!1},renderTimeMenuItems:function(e){return e},onSelect:function(){},disabled:!1},x);g.displayName="TimeMenu";var w=a.noop,k=(I=T=function(i){function a(){var n,o;r(this,a);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=o=t(this,i.call.apply(i,[this].concat(l))),o.prefixCls=o.props.prefix+"time-picker2",o.onSelectMenuItem=function(n,r){var t=o.props.value,s=t?t.clone():e("00:00:00","HH:mm:ss",!0),i=void 0;switch(r){case"hour":i=s.hour(n);break;case"minute":i=s.minute(n);break;case"second":i=s.second(n)}o.props.onSelect(i)},t(o,n)}return n(a,i),a.prototype.render=function(){var n=this.props,r=n.prefix,t=n.value,i=n.locale,a=n.className,c=n.disabled,d=n.showHour,p=n.showMinute,f=n.showSecond,m=n.hourStep,h=n.minuteStep,v=n.secondStep,b=n.disabledHours,y=n.disabledMinutes,x=n.disabledSeconds,S=n.renderTimeMenuItems,T=l(n,["prefix","value","locale","className","disabled","showHour","showMinute","showSecond","hourStep","minuteStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","renderTimeMenuItems"]),I=[d,p,f].filter((function(e){return e})).length,E=o(this.prefixCls+"-panel",this.prefixCls+"-panel-col-"+I,a),w={prefix:r,disabled:c,onSelect:this.onSelectMenuItem,renderTimeMenuItems:S,value:t},k=void 0,M=void 0,N=void 0;return t&&e.isSelf(t)&&(k=t.hour(),M=t.minute(),N=t.second()),s.createElement("div",u({},T,{className:E}),d?s.createElement(g,u({},w,{activeIndex:k,title:i.hour,mode:"hour",step:m,disabledItems:b})):null,p?s.createElement(g,u({},w,{activeIndex:M,title:i.minute,mode:"minute",step:h,disabledItems:y})):null,f?s.createElement(g,u({},w,{activeIndex:N,title:i.second,step:v,mode:"second",disabledItems:x})):null)},a}(s.Component),T.propTypes={prefix:i.string,value:h,showHour:i.bool,showMinute:i.bool,showSecond:i.bool,hourStep:i.number,minuteStep:i.number,secondStep:i.number,disabledHours:i.func,disabledMinutes:i.func,disabledSeconds:i.func,renderTimeMenuItems:i.func,onSelect:i.func,locale:i.object,disabled:i.bool,className:i.string},T.defaultProps={prefix:"next-",showHour:!0,showSecond:!0,showMinute:!0,disabledHours:w,disabledMinutes:w,disabledSeconds:w,onSelect:w,disabled:!1,locale:c.TimePicker},I);k.displayName="TimePickerPanel";var M={DATE:"date",RANGE:"range"},N={BEGIN:0,END:1},A={DATE:"date",MONTH:"month",WEEK:"week",QUARTER:"quarter",YEAR:"year"},C=function(e,n){return new Error("Invalid prop "+e+" supplied to "+n+". Validation failed.")};function O(e){return function(n,r,t){var o=n[r];if(o&&(Array.isArray(o)||(o=[o]),Array.isArray(e)||(e=[e]),!o.every((function(n){return e.includes(void 0===n?"undefined":d(n))}))))throw C(r,t)}}var R,H,j={date:function(n,r,t){if(r in n&&!e(n.propName).isValid())throw C(r,t)},value:function(n,r,t){if(n[r]){var o=n[r];if(n.type===M.RANGE&&!Array.isArray(o))throw C(r,t);if(Array.isArray(o)||(o=[o]),!o.every((function(n){return!n||e(n).isValid()})))throw C(r,t)}},format:O(["string","function"]),inputValue:O("string"),placeholder:O("string"),readOnly:O("boolean"),disabled:O("boolean"),disabledTime:O(["object","function"]),ariaLabel:O("string"),render:i.oneOfType([i.node,i.func]),mode:i.oneOf(Object.values(A)),type:i.oneOf(Object.values(M)),inputType:i.oneOf(Object.values(N)),size:i.oneOf(["small","medium","large"])},P=a.renderNode;var D=m((H=R=function(e){function i(n){r(this,i);var o=t(this,e.call(this,n));return o.renderRanges=function(){if(!o.props.preset)return null;var e=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(n){return{label:n,value:e[n]}}))}(o.props.preset);return e.map((function(n,r){var t=n.label,i=n.value,c=l(n,["label","value"]),d=p.pickProps(f.propTypes,c);return s.createElement(f,u({text:1===e.length,size:"small",type:1===e.length?"primary":"secondary",key:t+"-"+r,onClick:function(){return a.invoke(o.props,"onChange",["function"==typeof i?i():i,"CLICK_PRESET"])}},d),t)}))},o.prefixCls=n.prefix+"date-picker2-footer",o}return n(i,e),i.prototype.render=function(){var e,n,r=this.prefixCls,t=this.props,i=t.showOk,a=t.locale,l=t.onOk,u=t.oKable,c=t.extraRender,d=t.className,p=o(r,d,((e={})[r+"-with-actions"]=i,e)),m=P(c),h=this.renderRanges(),v=s.createElement(f,{size:"small",disabled:!u,onClick:l,className:r+"-ok",type:"primary"},a.ok),b=i||m||h,y=o(r+"-preset",((n={})[r+"-preset-only"]=!i&&!m,n));return b?s.createElement("div",{className:p},m?s.createElement("div",{className:r+"-extra"},m):null,h?s.createElement("div",{className:y},h):null,i?s.createElement("div",{className:r+"-actions"},v):null):null},i}(s.PureComponent),R.propTypes={rtl:i.bool,className:i.string,prefix:i.string,locale:i.object,showOk:i.bool,preset:i.oneOfType([i.array,i.object]),onOk:i.func,oKable:i.bool,extraRender:j.render},R.defaultProps={locale:c.DatePicker},H));export{N as D,D as F,j as S,k as T,A as a,M as b,v as c,b as f};
