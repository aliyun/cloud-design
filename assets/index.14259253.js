import{z as e,M as t,n,k as i,l as a,m as o,X as s,v as r,R as p,o as l,_ as u,q as d,d as c,f as m,Y as f,r as h,u as g,P as v,Z as b,W as C,Q as S,y as T}from"./index.16a07d60.js";var y,P,V,k=t.Popup,N=n.noop,w=T.TimePicker,O=(P=y=function(e){function t(n,i){a(this,t);var r=o(this,e.call(this,n,i));V.call(r);var p=s(n.value||n.defaultValue,n.format);return r.inputAsString="string"==typeof(n.value||n.defaultValue),r.state={value:p,inputStr:"",inputing:!1,visible:n.visible||n.defaultVisible},r}return i(t,e),t.getDerivedStateFromProps=function(e){var t={};return"value"in e&&(t.value=s(e.value,e.format)),"visible"in e&&(t.visible=e.visible),t},t.prototype.onValueChange=function(e){var t=this.inputAsString&&e?e.format(this.props.format):e;this.props.onChange(t)},t.prototype.renderPreview=function(e){var t=this.props,n=t.prefix,i=t.format,a=t.className,o=t.renderPreview,s=this.state.value,u=r(a,n+"form-preview"),d=s?s.format(i):"";return"function"==typeof o?p.createElement("div",l({},e,{className:u}),o(s,this.props)):p.createElement("p",l({},e,{className:u}),d)},t.prototype.render=function(){var e,n,i=this.props,a=i.prefix,o=i.label,s=i.state,h=i.placeholder,g=i.size,v=i.format,b=i.hasClear,C=i.hourStep,S=i.minuteStep,T=i.secondStep,y=i.disabledHours,P=i.disabledMinutes,V=i.disabledSeconds,N=i.renderTimeMenuItems,w=i.inputProps,O=i.popupAlign,x=i.popupTriggerType,E=i.popupContainer,I=i.popupStyle,M=i.popupClassName,H=i.popupProps,z=i.popupComponent,A=i.popupContent,j=i.followTrigger,B=i.disabled,K=i.className,D=i.locale,F=i.rtl,q=i.isPreview,Q=u(i,["prefix","label","state","placeholder","size","format","hasClear","hourStep","minuteStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","renderTimeMenuItems","inputProps","popupAlign","popupTriggerType","popupContainer","popupStyle","popupClassName","popupProps","popupComponent","popupContent","followTrigger","disabled","className","locale","rtl","isPreview"]),R=this.state,W=R.value,X=R.inputStr,Y=R.inputing,Z=R.visible,_=r(((e={})[a+"time-picker-trigger"]=!0,e));if(F&&(Q.dir="rtl"),q)return this.renderPreview(d.pickOthers(Q,t.PropTypes));var G=Y?X:W&&W.format(v)||"",J=l({},w,{size:g,disabled:B,value:G,hasClear:W&&b,onChange:this.onInputChange,onBlur:this.onInputBlur,onPressEnter:this.onInputBlur,onKeyDown:this.onKeyown,hint:p.createElement(c,{type:"clock",className:a+"time-picker-symbol-clock-icon"})}),L=p.createElement("div",{className:_},p.createElement(m,l({},J,{label:o,state:s,placeholder:h||D.placeholder,className:a+"time-picker-input"}))),U={prefix:a,locale:D,value:W,disabled:B,showHour:v.indexOf("H")>-1,showSecond:v.indexOf("s")>-1,showMinute:v.indexOf("m")>-1,hourStep:C,minuteStep:S,secondStep:T,disabledHours:y,disabledMinutes:P,disabledSeconds:V,renderTimeMenuItems:N,onSelect:this.onTimePanelSelect},$=r(((n={})[a+"time-picker"]=!0,n[a+"time-picker-"+g]=g,n[a+"disabled"]=B,n),K),ee=z||k;return p.createElement("div",l({},d.pickOthers(t.propTypes,Q),{className:$}),p.createElement(ee,l({autoFocus:!0,align:O},H,{followTrigger:j,visible:Z,onVisibleChange:this.onVisibleChange,trigger:L,container:E,disabled:B,triggerType:x,style:I,className:M}),A||p.createElement("div",{dir:Q.dir,className:a+"time-picker-body"},p.createElement("div",{className:a+"time-picker-panel-header"},p.createElement(m,l({},J,{placeholder:v,className:a+"time-picker-panel-input"}))),p.createElement(f,U))))},t}(h.exports.Component),y.propTypes=l({},g.propTypes,{prefix:v.string,rtl:v.bool,label:v.node,state:v.oneOf(["error","success"]),placeholder:v.string,value:b,defaultValue:b,size:v.oneOf(["small","medium","large"]),hasClear:v.bool,format:v.string,hourStep:v.number,minuteStep:v.number,secondStep:v.number,disabledHours:v.func,disabledMinutes:v.func,disabledSeconds:v.func,renderTimeMenuItems:v.func,visible:v.bool,defaultVisible:v.bool,popupContainer:v.any,popupAlign:v.string,popupTriggerType:v.oneOf(["click","hover"]),onVisibleChange:v.func,popupStyle:v.object,popupClassName:v.string,popupProps:v.object,followTrigger:v.bool,disabled:v.bool,isPreview:v.bool,renderPreview:v.func,onChange:v.func,className:v.string,name:v.string,inputProps:v.object,popupComponent:v.elementType,popupContent:v.node}),y.defaultProps={prefix:"next-",rtl:!1,locale:w,size:"medium",format:"HH:mm:ss",hasClear:!0,disabled:!1,popupAlign:"tl tl",popupTriggerType:"click",onChange:N,onVisibleChange:N},V=function(){var e=this;this.onClearValue=function(){e.setState({value:null}),e.state.value&&e.onValueChange(null)},this.onInputChange=function(t,n,i){"value"in e.props?"clear"===i&&(n.stopPropagation(),e.onValueChange(null)):("clear"!==i&&t||(n.stopPropagation(),e.onClearValue()),e.setState({inputStr:t,inputing:!0}))},this.onInputBlur=function(){var t=e.state.inputStr;if(t){var n=e.props.format,i=C(t,n,!0);i.isValid()&&(e.setState({value:i,inputStr:""}),e.onValueChange(i)),e.setState({inputing:!1})}},this.onKeyown=function(t){var n=e.state,i=n.value,a=n.inputStr,o=e.props,s=o.format,r=o.hourStep,p=void 0===r?1:r,l=o.minuteStep,u=void 0===l?1:l,d=o.secondStep,c=void 0===d?1:d,m=o.disabledMinutes,f="second";o.disabledSeconds&&(f=m?"hour":"minute");var h=S(t,{format:s,timeInputStr:a,steps:{hour:p,minute:u,second:c},value:i},f);h&&e.onInputChange(h)},this.onTimePanelSelect=function(t){"value"in e.props||e.setState({value:t,inputing:!1}),e.state.value&&t.valueOf()===e.state.value.valueOf()||e.onValueChange(t)},this.onVisibleChange=function(t,n){"visible"in e.props||e.setState({visible:t}),e.props.onVisibleChange(t,n)}},P);O.displayName="TimePicker";var x=e(O),E=g.config(x,{transform:function(e,t){if("defaultOpen"in e){t("defaultOpen","defaultVisible","TimePicker");var n=e,i=n.defaultOpen,a=u(n,["defaultOpen"]);e=l({defaultVisible:i},a)}if("open"in e){t("open","visible","TimePicker");var o=e,s=o.open,r=u(o,["open"]);e=l({visible:s},r)}if("onOpenChange"in e){t("onOpenChange","onVisibleChange","TimePicker");var p=e,d=p.onOpenChange,c=u(p,["onOpenChange"]);e=l({onVisibleChange:d},c)}return e}});export{E as N};
