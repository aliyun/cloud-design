import{b as e,_ as t,c as r,d as s,o as i,e as a,r as n,N as o,f as p,p as c}from"./index.e50fb7cb.js";var l,m,f=(m=l=function(e){function c(){var t,i;r(this,c);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=i=s(this,e.call.apply(e,[this].concat(n))),i.state={isImgExist:!0},i.handleImgLoadError=function(){var e=i.props.onError;!1!==(e?e():void 0)&&i.setState({isImgExist:!1})},i.getIconSize=function(e){return"number"==typeof e?e/2:e},s(i,t)}return t(c,e),c.prototype.componentDidUpdate=function(e){e.src!==this.props.src&&this.setState({isImgExist:!0})},c.prototype.render=function(){var e,t=this.props,r=t.prefix,s=t.className,l=t.style,m=t.size,f=t.icon,h=t.alt,g=t.srcSet,u=t.shape,d=t.src,y=this.state.isImgExist,E=this.props.children,v=i.pickOthers(c.propTypes,this.props),x=a(((e={})[r+"avatar"]=!0,e[r+"avatar-"+u]=!!u,e[r+"avatar-image"]=d&&y,e[r+"avatar-"+m]="string"==typeof m,e),s),z="number"==typeof m?{width:m,height:m,lineHeight:m+"px",fontSize:f?m/2:18}:{},I=this.getIconSize(m);if(d)E=y?n.createElement("img",{src:d,srcSet:g,onError:this.handleImgLoadError,alt:h}):n.createElement(o,{type:"picture",size:I});else if("string"==typeof f)E=n.createElement(o,{type:f,size:I});else if(f){var S="size"in f.props?f.props.size:I;E=n.cloneElement(f,{size:S})}return n.createElement("span",p({className:x,style:p({},z,l)},v),E)},c}(n.Component),l.propTypes={prefix:c.string,children:c.any,className:c.string,size:c.oneOfType([c.oneOf(["small","medium","large"]),c.number]),shape:c.oneOf(["circle","square"]),icon:c.oneOfType([c.node,c.string]),src:c.string,onError:c.func,alt:c.string,srcSet:c.string},l.defaultProps={prefix:"next-",size:"medium",shape:"circle"},m);f.displayName="Avatar";var h=e.config(f);export{h as N};
