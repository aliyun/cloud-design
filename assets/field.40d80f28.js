var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,a=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(n)for(var r of n(t))l.call(t,r)&&s(e,r,t[r]);return e},i=(e,n)=>t(e,r(n));import{r as u,i as c,f as p,B as m,I as d,R as h,C as f,a5 as x,L as E,ah as g,ap as b,a7 as v,W as y,ar as C,h as k,as as S,b as w,aa as V}from"./index.672a70f3.js";import{q as _}from"./styled-components.browser.esm.f3e9ec77.js";import{N as O}from"./index.23edeb4f.js";import{c as P,a as j}from"./redux.b438ddfe.js";class N extends u.exports.Component{constructor(){super(...arguments),this.state={show:!0,show2:!0},this.field=new c(this),this.field2=new c(this,{autoUnmount:!1})}render(){return u.exports.createElement("div",null,this.state.show?u.exports.createElement(p,a({},this.field.init("name",{initValue:"autoUnmount = true"}))):null,u.exports.createElement(m,{onClick:()=>{console.log("value auto delete",this.field.getValues())},style:{marginLeft:4}},"print"),u.exports.createElement(m,{onClick:()=>this.setState({show:!1}),warning:!0,style:{marginLeft:4}},"delete"),u.exports.createElement("br",null),u.exports.createElement("br",null),this.state.show2?u.exports.createElement(p,a({},this.field2.init("name2",{initValue:"autoUnmount = false"}))):null,u.exports.createElement(m,{onClick:()=>{console.log("value always exist",this.field2.getValues())},style:{marginLeft:4}},"print"),u.exports.createElement(m,{onClick:()=>this.setState({show2:!1}),warning:!0,style:{marginLeft:4}},"delete"))}}const T=_.div``;var M=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(N,null);return u.exports.createElement(T,null,e)}});class q extends u.exports.Component{constructor(){super(...arguments),this.field=new c(this)}onGetValue(){console.log(this.field.getValue("input"))}render(){const{init:e,setValue:t,reset:r}=this.field;return u.exports.createElement("div",{className:"demo"},u.exports.createElement(p,a({},e("input",{initValue:"test"}))),u.exports.createElement("br",null),u.exports.createElement("br",null),u.exports.createElement(m,{type:"primary",onClick:this.onGetValue.bind(this)},"getValue"),u.exports.createElement(m,{type:"primary",onClick:()=>t("input","set me by click")},"setValue"),u.exports.createElement(m,{onClick:()=>r()},"reset"))}}const R=_.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var D=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(q,null);return u.exports.createElement(R,null,e)}});class B extends u.exports.Component{constructor(e){super(e),this.onAdd=()=>{const e=this.state.value.concat([]);e.push("new"),this.setState({value:e}),this.props.onChange(e)},this.state={value:void 0===e.value?[]:e.value}}componentWillReceiveProps(e){"value"in e&&this.setState({value:void 0===e.value?[]:e.value})}render(){return u.exports.createElement("div",{className:"custom"},this.state.value.map(((e,t)=>u.exports.createElement(m,{key:t},e))),u.exports.createElement(m,{type:"primary",onClick:this.onAdd.bind(this)},"Add ＋"," "))}}class W extends u.exports.Component{constructor(){super(...arguments),this.field=new c(this,{deepReset:!0})}onGetValue(){console.log(this.field.getValue("custom"))}render(){const{init:e,setValue:t,reset:r}=this.field;return u.exports.createElement("div",{className:"demo"},u.exports.createElement(B,a({},e("custom",{initValue:["test"]}))),u.exports.createElement("br",null),u.exports.createElement("br",null),u.exports.createElement(m,{type:"primary",onClick:this.onGetValue.bind(this)},"getValue"),u.exports.createElement(m,{type:"primary",onClick:()=>t("custom",["test","setValue"])},"setValue"),u.exports.createElement(m,{onClick:()=>r()},"reset"))}}const z=_.div`
  .demo .next-btn {
    margin-right: 5px;
  }
  .custom {
    border: 1px dashed;
    padding: 4px;
    display: inline-block;
  }
`;var F=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(W,null);return u.exports.createElement(z,null,e)}});class A extends u.exports.Component{constructor(e){super(e),this.getValues=()=>{const e=this.field.getValues();console.log(e)},this.input=(e,t)=>u.exports.createElement(p,a({},this.field.init(`name.${t}.input`))),this.op=(e,t)=>u.exports.createElement("span",null,u.exports.createElement(m,{type:"primary",onClick:this.addItem.bind(this,t+1)},"add"),u.exports.createElement(m,{warning:!0,onClick:this.removeItem.bind(this,t),style:{marginLeft:4}},"delete")),this.idx=3,this.field=new c(this,{parseName:!0,values:{name:[0,1,2,3].map((e=>({id:e,input:e})))}})}addItem(e){++this.idx,this.field.addArrayValue("name",e,{id:this.idx,input:this.idx})}removeItem(e){this.field.deleteArrayValue("name",e)}render(){const e=this.field.getValue("name");return u.exports.createElement("div",null,u.exports.createElement(d,{dataSource:e},u.exports.createElement(d.Column,{title:"id",dataIndex:"id"}),u.exports.createElement(d.Column,{title:"input",dataIndex:"id",cell:this.input}),u.exports.createElement(d.Column,{title:"operation",cell:this.op,width:150})),u.exports.createElement("pre",{style:{marginTop:8}},JSON.stringify(e,null,2)))}}const G=_.div``;var I=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(A,null);return u.exports.createElement(G,null,e)}});function L(){const e=c.useField(),{init:t,setValue:r,reset:n,getError:o}=e;return h.createElement("div",{className:"demo"},h.createElement(p,a({},t("input",{initValue:"test",rules:[{required:!0,pattern:/hello/,message:"must be hello"}]}))),h.createElement("span",{style:{color:"red"}},o("input")),h.createElement("br",null),h.createElement("br",null),h.createElement(m,{onClick:function(){e.setValue("input","xyz")}}," setValue "),h.createElement(m,{onClick:function(){console.log(e.getValue("input"))}}," getValue "),h.createElement("br",null),h.createElement("br",null))}const U=_.div``;var Y=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=h.createElement(L,null);return h.createElement(U,null,e)}});const H=f.Group,J=x.Group,$=[{value:"apple",label:"apple"},{value:"pear",label:"pear"},{value:"orange",label:"orange"}],K={marginBottom:10,width:400};class Q extends u.exports.Component{constructor(){super(...arguments),this.field=new c(this)}render(){const{init:e,getValue:t}=this.field;return u.exports.createElement("div",{className:"demo"},u.exports.createElement("div",{style:{marginBottom:10}},u.exports.createElement(J,a({},e("radiogroup",{initValue:"a"})),u.exports.createElement(x,{value:"a"},"A"),u.exports.createElement(x,{value:"b"},"B"),u.exports.createElement(x,{value:"c"},"C"),u.exports.createElement(x,{value:"d"},"D"))),"d"!==t("radiogroup")?u.exports.createElement(E,i(a({},e("name",{initValue:"lucy"})),{style:K}),u.exports.createElement(E.Option,{value:"jack"},"jack"),u.exports.createElement(E.Option,{value:"lucy"},"lucy"),u.exports.createElement(E.Option,{value:"disabled",disabled:!0},"disabled"),u.exports.createElement(E.Option,{value:"hugohua"},"hugohua")):u.exports.createElement(p,a({},e("name",{initValue:"frankqian"}))),u.exports.createElement("br",null),u.exports.createElement(g,a({style:i(a({},K),{marginTop:30}),slider:"double",scales:10,marks:10},e("range",{initValue:[20,40]}))),u.exports.createElement("div",{style:{marginBottom:10}},u.exports.createElement(H,a({dataSource:$},e("checkboxgroup",{initValue:["apple"]})))),u.exports.createElement("div",{style:{marginBottom:10}},u.exports.createElement(b,a({},e("datepicker")))),u.exports.createElement("div",{style:{marginBottom:10}},u.exports.createElement(b.RangePicker,a({},e("rangepicker")))),u.exports.createElement("div",{style:{marginBottom:10}},u.exports.createElement(O,a({},e("timepicker")))),u.exports.createElement(m,{type:"primary",onClick:()=>{console.log(this.field.getValues())}},"getValues"),u.exports.createElement(m,{onClick:()=>{this.field.setValues({name:"hugohua",range:[30,50],checkboxgroup:["orange"],radiogroup:"d"})}},"setValues"),u.exports.createElement(m,{onClick:()=>{this.field.reset()}},"reset"))}}const X=_.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(Q,null);return u.exports.createElement(X,null,e)}});class ee extends u.exports.Component{constructor(){super(...arguments),this.field=new c(this)}render(){const e=this.field.init;return u.exports.createElement("div",null,u.exports.createElement(v,a({},e("switch",{getValueFormatter:e=>e?1:0,setValueFormatter:e=>1===e}))),u.exports.createElement("br",null),u.exports.createElement(b,a({},e("time",{getValueFormatter:e=>e.format("YYYY-MM-DD"),setValueFormatter:e=>y(e,"YYYY-MM-DD")}))),u.exports.createElement("br",null),u.exports.createElement("pre",{style:{marginTop:8}},JSON.stringify(this.field.getValues(),null,2)))}}const te=_.div``;var re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(ee,null);return u.exports.createElement(te,null,e)}});class ne extends u.exports.Component{constructor(){super(...arguments),this.field=new c(this,{onChange:(e,t)=>{switch(console.log(this.field.getValues()),e){case"input":this.field.setValue("sync",`change to: ${t}`);break;case"select":this.field.setValue("sync",`${t} is coming`);break;case"range":this.field.setValue("sync",` (${t.join(",")}) ready`)}}})}render(){const{init:e,getValue:t}=this.field,r={marginBottom:10,width:400};return u.exports.createElement("div",null,u.exports.createElement(p,i(a({placeholder:"controlled by onChange"},e("input")),{style:r})),u.exports.createElement("br",null),u.exports.createElement(p,i(a({placeholder:"under control"},e("input")),{style:r})),u.exports.createElement("br",null),u.exports.createElement(E,a({style:r},e("select",{initValue:"lucy"})),u.exports.createElement(E.Option,{value:"jack"},"jack"),u.exports.createElement(E.Option,{value:"lucy"},"lucy"),u.exports.createElement(E.Option,{value:"disabled",disabled:!0},"disabled"),u.exports.createElement(E.Option,{value:"hugo"},"hugo")),u.exports.createElement("br",null),"hugo"!==t("select")?u.exports.createElement(g,a({style:i(a({},r),{marginTop:30}),slider:"double",scales:10,marks:10},e("range",{initValue:[20,40],trigger:"onProcess"}))):null,u.exports.createElement("br",null),u.exports.createElement("hr",{style:{marginBottom:10}}),u.exports.createElement(p,i(a({placeholder:"everyone can control me"},e("sync")),{style:r})),u.exports.createElement("br",null))}}const oe=_.div``;var le=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(ne,null);return u.exports.createElement(oe,null,e)}}),se=h.createContext(null);var ae=function(e){e()},ie={notify:function(){}};function ue(){var e=ae,t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){n&&null!==t&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var ce=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=ie,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=ue())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=ie)},e}(),pe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?u.exports.useLayoutEffect:u.exports.useEffect;function me(e){var t=e.store,r=e.context,n=e.children,o=u.exports.useMemo((function(){var e=new ce(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=u.exports.useMemo((function(){return t.getState()}),[t]);pe((function(){var e=o.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,l]);var s=r||se;return h.createElement(s.Provider,{value:o},n)}var de=[],he=[null,null];function fe(e,t){var r=e[1];return[t.payload,r+1]}function xe(e,t,r){pe((function(){return e.apply(void 0,t)}),r)}function Ee(e,t,r,n,o,l,s){e.current=n,t.current=o,r.current=!1,l.current&&(l.current=null,s())}function ge(e,t,r,n,o,l,s,a,i,u){if(e){var c=!1,p=null,m=function(){if(!c){var e,r,m=t.getState();try{e=n(m,o.current)}catch(d){r=d,p=d}r||(p=null),e===l.current?s.current||i():(l.current=e,a.current=e,s.current=!0,u({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=m,r.trySubscribe(),m();return function(){if(c=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}}var be=function(){return[null,0]};function ve(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,o=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,l=r.methodName,s=void 0===l?"connectAdvanced":l,a=r.renderCountProp,i=void 0===a?void 0:a,c=r.shouldHandleStateChanges,p=void 0===c||c,m=r.storeKey,d=void 0===m?"store":m;r.withRef;var f=r.forwardRef,x=void 0!==f&&f,E=r.context,g=void 0===E?se:E,b=S(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),v=g;return function(t){var r=t.displayName||t.name||"Component",n=o(r),l=C({},b,{getDisplayName:o,methodName:s,renderCountProp:i,shouldHandleStateChanges:p,storeKey:d,displayName:n,wrappedComponentName:r,WrappedComponent:t}),a=b.pure;var c=a?u.exports.useMemo:function(e){return e()};function m(r){var n=u.exports.useMemo((function(){var e=r.reactReduxForwardedRef,t=S(r,["reactReduxForwardedRef"]);return[r.context,e,t]}),[r]),o=n[0],s=n[1],a=n[2],i=u.exports.useMemo((function(){return o&&o.Consumer&&w.exports.isContextConsumer(h.createElement(o.Consumer,null))?o:v}),[o,v]),m=u.exports.useContext(i),d=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(m)&&Boolean(m.store);var f=d?r.store:m.store,x=u.exports.useMemo((function(){return function(t){return e(t.dispatch,l)}(f)}),[f]),E=u.exports.useMemo((function(){if(!p)return he;var e=new ce(f,d?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,d,m]),g=E[0],b=E[1],y=u.exports.useMemo((function(){return d?m:C({},m,{subscription:g})}),[d,m,g]),k=u.exports.useReducer(fe,de,be),V=k[0][0],_=k[1];if(V&&V.error)throw V.error;var O=u.exports.useRef(),P=u.exports.useRef(a),j=u.exports.useRef(),N=u.exports.useRef(!1),T=c((function(){return j.current&&a===P.current?j.current:x(f.getState(),a)}),[f,V,a]);xe(Ee,[P,O,N,a,T,j,b]),xe(ge,[p,f,g,x,P,O,N,j,b,_],[f,g,x]);var M=u.exports.useMemo((function(){return h.createElement(t,C({},T,{ref:s}))}),[s,t,T]);return u.exports.useMemo((function(){return p?h.createElement(i.Provider,{value:y},M):M}),[i,M,y])}var f=a?h.memo(m):m;if(f.WrappedComponent=t,f.displayName=m.displayName=n,x){var E=h.forwardRef((function(e,t){return h.createElement(f,C({},e,{reactReduxForwardedRef:t}))}));return E.displayName=n,E.WrappedComponent=t,k(E,t)}return k(f,t)}}function ye(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Ce(e,t){if(ye(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!ye(e[r[o]],t[r[o]]))return!1;return!0}function ke(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function Se(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function we(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=Se(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=Se(o),o=n(t,r)),o},n}}var Ve=[function(e){return"function"==typeof e?we(e):void 0},function(e){return e?void 0:ke((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?ke((function(t){return function(e,t){var r={},n=function(n){var o=e[n];"function"==typeof o&&(r[n]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)n(o);return r}(e,t)})):void 0}];var _e=[function(e){return"function"==typeof e?we(e):void 0},function(e){return e?void 0:ke((function(){return{}}))}];function Oe(e,t,r){return C({},r,e,t)}var Pe=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,l=r.areMergedPropsEqual,s=!1;return function(t,r,a){var i=e(t,r,a);return s?o&&l(i,n)||(n=i):(s=!0,n=i),n}}}(e):void 0},function(e){return e?void 0:function(){return Oe}}];function je(e,t,r,n){return function(o,l){return r(e(o,l),t(n,l),l)}}function Ne(e,t,r,n,o){var l,s,a,i,u,c=o.areStatesEqual,p=o.areOwnPropsEqual,m=o.areStatePropsEqual,d=!1;function h(o,d){var h,f,x=!p(d,s),E=!c(o,l);return l=o,s=d,x&&E?(a=e(l,s),t.dependsOnOwnProps&&(i=t(n,s)),u=r(a,i,s)):x?(e.dependsOnOwnProps&&(a=e(l,s)),t.dependsOnOwnProps&&(i=t(n,s)),u=r(a,i,s)):E?(h=e(l,s),f=!m(h,a),a=h,f&&(u=r(a,i,s)),u):u}return function(o,c){return d?h(o,c):(a=e(l=o,s=c),i=t(n,s),u=r(a,i,s),d=!0,u)}}function Te(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,l=S(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=r(e,l),a=n(e,l),i=o(e,l);return(l.pure?Ne:je)(s,a,i,e,l)}function Me(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function qe(e,t){return e===t}function Re(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?ve:r,o=t.mapStateToPropsFactories,l=void 0===o?_e:o,s=t.mapDispatchToPropsFactories,a=void 0===s?Ve:s,i=t.mergePropsFactories,u=void 0===i?Pe:i,c=t.selectorFactory,p=void 0===c?Te:c;return function(e,t,r,o){void 0===o&&(o={});var s=o,i=s.pure,c=void 0===i||i,m=s.areStatesEqual,d=void 0===m?qe:m,h=s.areOwnPropsEqual,f=void 0===h?Ce:h,x=s.areStatePropsEqual,E=void 0===x?Ce:x,g=s.areMergedPropsEqual,b=void 0===g?Ce:g,v=S(s,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=Me(e,l,"mapStateToProps"),k=Me(t,a,"mapDispatchToProps"),w=Me(r,u,"mergeProps");return n(p,C({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:y,initMapDispatchToProps:k,initMergeProps:w,pure:c,areStatesEqual:d,areOwnPropsEqual:f,areStatePropsEqual:E,areMergedPropsEqual:b},v))}}var De,Be=Re();De=V.exports.unstable_batchedUpdates,ae=De;class We extends u.exports.Component{constructor(){super(...arguments),this.field=new c(this,{onChange:(e,t)=>{console.log("onChange",e,t),this.field.setValue("newlen",t.length),this.props.dispatch({type:"save_fields",payload:{[e]:t}})}})}componentWillReceiveProps(e){this.field.setValues({email:e.email,newlen:e.email.length})}setEmail(){this.props.dispatch({type:"save_fields",payload:{email:"qq@gmail.com"}})}render(){const e=this.field.init,t=e("newlen",{initValue:this.props.email.length});return u.exports.createElement("div",null,u.exports.createElement(p,a({},e("email",{initValue:this.props.email},{rules:[{required:!0,type:"email",message:"at least 5 chars"}]}))),"now length is:",t.value,u.exports.createElement("p",null,"email: ",this.props.email),u.exports.createElement(m,{onClick:this.setEmail.bind(this)},"set"))}}const ze=Be((e=>({email:e.formReducer.email})))(We),Fe=P(j({formReducer:function(e={email:"frankqian@qq.com"},t){switch(t.type){case"save_fields":return a(a({},e),t.payload);default:return e}}}));const Ae=_.div``;var Ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(me,{store:Fe},u.exports.createElement("div",null,u.exports.createElement(ze,null)));return u.exports.createElement(Ae,null,e)}});class Ie extends u.exports.Component{constructor(){super(...arguments),this.field=new c(this),this.validate=()=>{console.log(this.field.getErrors()),this.field.validate(((e,t)=>{alert(JSON.stringify(e))}))}}render(){const{init:e,getError:t,setError:r,setErrors:n}=this.field;return u.exports.createElement("div",{className:"demo"},u.exports.createElement(p,a({},e("input",{rules:[{required:!0,pattern:/hello/,message:"must be hello"}]}))),u.exports.createElement("br",null),u.exports.createElement("span",{style:{color:"red"}},t("input")),u.exports.createElement("br",null),u.exports.createElement(m,{onClick:()=>{r("input","set error 1")}},"setError"),u.exports.createElement(m,{onClick:()=>{n({input:"set error 2"})}},"setErrors"),u.exports.createElement(m,{onClick:()=>{n({input:""})}},"clear"),u.exports.createElement("br",null),u.exports.createElement("br",null),u.exports.createElement(p,a({},e("input2"))),u.exports.createElement("br",null),u.exports.createElement("span",{style:{color:"red"}},t("input2")),u.exports.createElement("br",null),u.exports.createElement(m,{onClick:()=>{r("input2","errors will be removed by onChange and shown on validate")}},"setError"),u.exports.createElement(m,{onClick:this.validate},"validate"))}}const Le=_.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var Ue=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(Ie,null);return u.exports.createElement(Le,null,e)}});class Ye extends u.exports.Component{constructor(){super(...arguments),this.field=new c(this,{parseName:!0,values:{objWithDefaults:{a:1,b:2}}})}onGetValue(){console.log(this.field.getValues())}onSetValue(){this.field.setValues({obj:{b:"b",c:"c"},arr:["first","second"],objWithDefaults:{a:100,b:200}})}render(){const{init:e,reset:t,resetToDefault:r}=this.field;return u.exports.createElement("div",{className:"demo"},u.exports.createElement("h3",null,"Object transfer"),"obj.b: ",u.exports.createElement(p,a({},e("obj.b",{initValue:"test1"})))," ",u.exports.createElement("span",{style:{marginRight:20}}),"obj.c: ",u.exports.createElement(p,a({},e("obj.c",{initValue:"test2"}))),u.exports.createElement("br",null),u.exports.createElement("h3",null,"Array transfer"),"arr.0: ",u.exports.createElement(p,a({},e("arr.0",{initValue:"0"})))," ",u.exports.createElement("span",{style:{marginRight:20}}),"arr.1: ",u.exports.createElement(p,a({},e("arr.1",{initValue:"1"}))),u.exports.createElement("br",null),u.exports.createElement("br",null),u.exports.createElement("h3",null,"Object with Defaults"),"objWithDefaults.a: ",u.exports.createElement(p,a({},e("objWithDefaults.a")))," ",u.exports.createElement("span",{style:{marginRight:20}}),"objWithDefaults.b: ",u.exports.createElement(p,a({},e("objWithDefaults.b"))),u.exports.createElement("br",null),u.exports.createElement("br",null),"result:",u.exports.createElement("pre",null,JSON.stringify(this.field.getValues(),null,2)),u.exports.createElement("br",null),u.exports.createElement("br",null),u.exports.createElement(m,{type:"primary",onClick:this.onGetValue.bind(this)},"getValues"),u.exports.createElement(m,{onClick:this.onSetValue.bind(this)},"setValues"),u.exports.createElement(m,{onClick:()=>t()},"reset"),u.exports.createElement(m,{onClick:()=>r()},"resetToDefault"))}}const He=_.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var Je=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(Ye,null);return u.exports.createElement(He,null,e)}});const $e=f.Group,Ke=[{value:"apple",label:"apple"},{value:"pear",label:"pear"},{value:"orange",label:"orange"}];class Qe extends u.exports.Component{constructor(){super(...arguments),this.state={checkboxStatus:!0},this.field=new c(this,{scrollToFirstError:-10})}isChecked(e,t,r){return t?r():r("consent agreement not checked ")}userName(e,t,r){"frank"===t?setTimeout((()=>r("name existed")),200):setTimeout((()=>r()),200)}render(){const{init:e,validate:t,reset:r}=this.field;return u.exports.createElement("div",{className:"demo"},u.exports.createElement(p,a({},e("input",{initValue:"delete all",rules:{required:!0}}))),this.field.getError("input")?u.exports.createElement("span",{style:{color:"red"}},this.field.getError("input").join(",")):"",u.exports.createElement("br",null),u.exports.createElement("br",null),u.exports.createElement(p,a({placeholder:"try onBlur"},e("input1",{rules:[{required:!0,message:"can not be empty",trigger:["onBlur","onChange"]}]}))),this.field.getError("input1")?u.exports.createElement("span",{style:{color:"red"}},this.field.getError("input1").join(",")):"",u.exports.createElement("br",null),u.exports.createElement("br",null),u.exports.createElement(p,a({defaultValue:"",placeholder:"try frank"},e("username",{rules:[{validator:this.userName,trigger:["onBlur","onChange"]}]}))),"loading"===this.field.getState("username")?"validating...":"",this.field.getError("username")?u.exports.createElement("span",{style:{color:"red"}},this.field.getError("username").join(",")):"",u.exports.createElement("br",null),u.exports.createElement("br",null),"agreement:",u.exports.createElement(f,a({},e("checkbox",{valueName:"checked",rules:[{validator:this.isChecked}]}))),this.field.getError("checkbox")?u.exports.createElement("span",{style:{color:"red"}},this.field.getError("checkbox").join(",")):"",u.exports.createElement("br",null),u.exports.createElement("br",null),u.exports.createElement(p.TextArea,a({placeholder:">3 and <10"},e("textarea",{rules:[{required:!0,minLength:3,maxLength:10}]}))),this.field.getError("textarea")?u.exports.createElement("span",{style:{color:"red"}},this.field.getError("textarea").join(",")):"",u.exports.createElement("br",null),u.exports.createElement("br",null),this.state.checkboxStatus?u.exports.createElement("div",null,"Array validate：",u.exports.createElement($e,i(a({dataSource:Ke},e("checkboxgroup",{rules:[{required:!0,type:"array",message:"choose one please"}]})),{style:{marginBottom:10}})),this.field.getError("checkboxgroup")?u.exports.createElement("span",{style:{color:"red"}},this.field.getError("checkboxgroup").join(",")):""):null,u.exports.createElement("br",null),u.exports.createElement("br",null),u.exports.createElement(m,{type:"primary",onClick:()=>{t(((e,t)=>{console.log(e,t)}))}},"validate"),u.exports.createElement(m,{onClick:()=>{r()}},"reset"),u.exports.createElement(m,{onClick:()=>{this.state.checkboxStatus?(this.setState({checkboxStatus:!1}),this.field.remove("checkboxgroup")):this.setState({checkboxStatus:!0})}},this.state.checkboxStatus?"delete":"restore"))}}const Xe=_.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var Ze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(Qe,null);return u.exports.createElement(Xe,null,e)}});f.Group;class et extends h.Component{constructor(){super(...arguments),this.state={checkboxStatus:!0},this.field=new c(this,{scrollToFirstError:-10})}isChecked(e,t){return t?Promise.resolve(null):Promise.reject("consent agreement not checked ")}userName(e,t){return new Promise("frank"===t?(e,t)=>{setTimeout((()=>t("name existed")),200)}:e=>{setTimeout((()=>e(null)),200)})}render(){const e=this.field.init;return h.createElement("div",{className:"demo"},h.createElement(p,a({defaultValue:"",placeholder:"try frank"},e("username",{rules:[{validator:this.userName,trigger:["onBlur","onChange"]}]}))),"loading"===this.field.getState("username")?"validating...":"",this.field.getError("username")?h.createElement("span",{style:{color:"red"}},this.field.getError("username").join(",")):"",h.createElement("br",null),h.createElement("br",null),"agreement:",h.createElement(f,a({},e("checkbox",{valueName:"checked",rules:[{validator:this.isChecked}]}))),this.field.getError("checkbox")?h.createElement("span",{style:{color:"red"}},this.field.getError("checkbox").join(",")):"",h.createElement("br",null),h.createElement("br",null),h.createElement(m,{type:"primary",onClick:()=>{this.field.validatePromise().then((({errors:e,values:t})=>{console.log(e,t)}))}},"validate"),h.createElement(m,{onClick:()=>{this.field.reset()}},"reset"))}}const tt=_.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var rt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=h.createElement(et,null);return h.createElement(tt,null,e)}});class nt extends u.exports.Component{constructor(){super(...arguments),this.field=new c(this)}render(){const e=this.field.init;return u.exports.createElement("div",{className:"demo"},u.exports.createElement(x,a({},e("radio",{initValue:!1,valueName:"checked"}))," ","checked"),u.exports.createElement("br",null),u.exports.createElement(f,a({},e("checkbox",{valueName:"checked",initValue:!0})),"defaultChecked"),u.exports.createElement("br",null),u.exports.createElement(v,i(a({},e("switch",{valueName:"checked",initValue:!1})),{style:{marginTop:10,marginBottom:10}})),u.exports.createElement("br",null),u.exports.createElement(m,{type:"primary",onClick:()=>{console.log(this.field.getValues())}},"getValues"),u.exports.createElement(m,{onClick:()=>{this.field.setValues({radio:!0,switch:!0,checkbox:!1})}}," ","setValues"," "),u.exports.createElement(m,{onClick:()=>{this.field.reset()}},"reset"))}}const ot=_.div`
  .demo .next-btn {
    margin-right: 5px;
  }
`;var lt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){const e=u.exports.createElement(nt,null);return u.exports.createElement(ot,null,e)}});const st={};st._autounmout=M,st._basic=D,st._custom=F,st._dynamic=I,st._hooks=Y,st._mix=Z,st._normalize=re,st._onchange=le,st._redux=Ge,st._seterror=Ue,st._topath=Je,st._validator=Ze,st._validatorPromise=rt,st._valuename=lt;export default st;
