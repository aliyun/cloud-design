import{_ as e,d as t,e as n,f as o,r,p as i,C as s,m as l,g as a,E as u}from"./index.26e635a6.js";import{m as c}from"./moment.ebc1a0ce.js";function d(e,t,n){if(e[t]&&!c.isMoment(e[t]))return new Error("Invalid prop "+t+" supplied to "+n+". Required a moment object")}function m(e,t,n){if(e[t]&&!c.isMoment(e[t])&&"string"!=typeof e[t])return new Error("Invalid prop "+t+" supplied to "+n+". Required a moment object or format date string!")}function p(e,t){var n="string"==typeof e?c(e,t,!0):e;return n&&c.isMoment(n)&&n.isValid()?n:null}var f,h;function b(e,t,n){var o=window.requestAnimationFrame||function(){return setTimeout(arguments.length<=0?void 0:arguments[0],10)};if(n<=0)e.scrollTop=t;else{var r=(t-e.scrollTop)/n*10;o((function(){e.scrollTop=e.scrollTop+r,e.scrollTop!==t&&b(e,t,n-10)}))}}var v,S,I=function(){},M=(h=f=function(i){function s(){var e,l;t(this,s);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return e=l=n(this,i.call.apply(i,[this].concat(u))),l._menuRefHandler=function(e){l.menu=e},l.createMenuItems=function(e){var t=l.props,n=t.prefix,i=t.mode,s=t.disabled,a=t.disabledItems,u=t.activeIndex,c=t.onSelect,d=t.renderTimeMenuItems,m=t.value;return(e=d(e,i,m)||e).map((function(e){var t,l=e.label,d=e.value,m=s||a(d),p=o(((t={})[n+"time-picker-menu-item"]=!0,t[n+"disabled"]=m,t[n+"selected"]=d===u,t)),f=m?I:function(){return c(d,i)};return r.createElement("li",{role:"option","aria-selected":String(d===u),key:d,title:d,className:p,onClick:f},l)}))},n(l,e)}return e(s,i),s.prototype.componentDidMount=function(){this.scrollToSelected(0)},s.prototype.componentDidUpdate=function(e){e.activeIndex!==this.props.activeIndex&&this.scrollToSelected(120)},s.prototype.scrollToSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props,n=t.activeIndex,o=t.step,r=Math.floor((n||0)/o),i=this.menu.children[r],s=i.offsetTop;b(this.menu,s,e)},s.prototype.render=function(){for(var e=this.props,t=e.prefix,n=e.title,o=e.mode,i=e.step,s="hour"===o?24:60,l=[],a=0;a<s;a++)a%i==0&&l.push({label:a,value:a});var u=n?r.createElement("div",{className:t+"time-picker-menu-title"},n):null;return r.createElement("div",{className:t+"time-picker-menu"},u,r.createElement("ul",{role:"listbox",className:t+"time-picker-menu-"+o,ref:this._menuRefHandler},this.createMenuItems(l)))},s}(r.Component),f.propTypes={prefix:i.string,title:i.node,mode:i.oneOf(["hour","minute","second"]),step:i.number,activeIndex:i.number,value:d,disabledItems:i.func,renderTimeMenuItems:i.func,onSelect:i.func,disabled:i.bool},f.defaultProps={step:1,disabledItems:function(){return!1},renderTimeMenuItems:function(e){return e},onSelect:function(){},disabled:!1},h);M.displayName="TimeMenu";var T=s.noop,x=(S=v=function(i){function s(){var e,o;t(this,s);for(var r=arguments.length,l=Array(r),a=0;a<r;a++)l[a]=arguments[a];return e=o=n(this,i.call.apply(i,[this].concat(l))),o.onSelectMenuItem=function(e,t){var n=o.props.value,r=n?n.clone():c("00:00:00","HH:mm:ss",!0);switch(t){case"hour":r.hour(e);break;case"minute":r.minute(e);break;case"second":r.second(e)}o.props.onSelect(r)},n(o,e)}return e(s,i),s.prototype.render=function(){var e=this.props,t=e.prefix,n=e.value,i=e.locale,s=e.className,u=e.disabled,d=e.showHour,m=e.showMinute,p=e.showSecond,f=e.hourStep,h=e.minuteStep,b=e.secondStep,v=e.disabledHours,S=e.disabledMinutes,I=e.disabledSeconds,T=e.renderTimeMenuItems,x=l(e,["prefix","value","locale","className","disabled","showHour","showMinute","showSecond","hourStep","minuteStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","renderTimeMenuItems"]),w=[d,m,p].filter((function(e){return e})).length,y=o(t+"time-picker-panel",t+"time-picker-panel-col-"+w,s),g={prefix:t,disabled:u,onSelect:this.onSelectMenuItem,renderTimeMenuItems:T,value:n},k=void 0,H=void 0,E=void 0;return n&&c.isMoment(n)&&(k=n.hour(),H=n.minute(),E=n.second()),r.createElement("div",a({},x,{className:y}),d?r.createElement(M,a({},g,{activeIndex:k,title:i.hour,mode:"hour",step:f,disabledItems:v})):null,m?r.createElement(M,a({},g,{activeIndex:H,title:i.minute,mode:"minute",step:h,disabledItems:S})):null,p?r.createElement(M,a({},g,{activeIndex:E,title:i.second,step:b,mode:"second",disabledItems:I})):null)},s}(r.Component),v.propTypes={prefix:i.string,value:d,showHour:i.bool,showMinute:i.bool,showSecond:i.bool,hourStep:i.number,minuteStep:i.number,secondStep:i.number,disabledHours:i.func,disabledMinutes:i.func,disabledSeconds:i.func,renderTimeMenuItems:i.func,onSelect:i.func,locale:i.object,disabled:i.bool,className:i.string},v.defaultProps={prefix:"next-",showHour:!0,showSecond:!0,showMinute:!0,disabledHours:T,disabledMinutes:T,disabledSeconds:T,onSelect:T,disabled:!1,locale:u.TimePicker},S);x.displayName="TimePickerPanel";export{x as T,m as c,p as f};
